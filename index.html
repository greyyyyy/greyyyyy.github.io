<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/22/%E5%8D%B7%E7%A7%AF%E7%BD%91%E7%BB%9C%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/22/%E5%8D%B7%E7%A7%AF%E7%BD%91%E7%BB%9C%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">å·ç§¯ç½‘ç»œæ­å»º</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-02-22 14:03:08 / Modified: 17:16:56" itemprop="dateCreated datePublished" datetime="2021-02-22T14:03:08+08:00">2021-02-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å·ç§¯è®¡ç®—è¿‡ç¨‹"><a href="#å·ç§¯è®¡ç®—è¿‡ç¨‹" class="headerlink" title="å·ç§¯è®¡ç®—è¿‡ç¨‹"></a>å·ç§¯è®¡ç®—è¿‡ç¨‹</h1><p>å…¨è¿æ¥ç½‘ç»œ(ä¹Ÿå†™ä½œï¼šå…¨è¿æ¥NN)ä¸­æ¯ä¸€ä¸ªç¥ç»å…ƒå°çƒä¸å‰åç›¸é‚»å±‚çš„æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½æœ‰è¿æ¥å…³ç³»ï¼Œè¾“å…¥æ˜¯ç‰¹å¾ï¼Œè¾“å‡ºæ˜¯é¢„æµ‹çš„ç»“æœ<br>å½“ç½‘ç»œå‚æ•°è¿‡å¤šï¼Œéšè—å±‚æ•°å¢åŠ ï¼Œå¾ˆå®¹æ˜“ä½¿æ¨¡å‹è¿‡æ‹Ÿåˆã€‚<br>ä¸ºäº†å‡å°‘å¾…è®­ç»ƒå‚æ•°ï¼Œåˆ™å…ˆå¯¹åŸå§‹å›¾ç‰‡è¿›è¡Œç‰¹å¾æå–ï¼Œå†æŠŠæå–åˆ°çš„ç‰¹å¾é€åˆ°å…¨è¿æ¥ç½‘ç»œï¼Œè®©å…¨è¿æ¥ç½‘ç»œè¾“å‡ºè¯†åˆ«ç»“æœ   </p>
<p><strong>å·ç§¯è®¡ç®—æ˜¯ä¸€ç§æœ‰æ•ˆçš„ç‰¹å¾æå–æ–¹æ³•</strong><br>ä¸€èˆ¬ç”¨ä¸€ä¸ªæ­£æ–¹å½¢çš„å·ç§¯æ ¸ï¼ŒæŒ‰æŒ‡å®šæ­¥é•¿ï¼Œåœ¨è¾“å…¥ç‰¹å¾å›¾ä¸Šæ»‘åŠ¨ï¼Œéå†è¾“å…¥ç‰¹å¾å›¾ä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ã€‚æ¯ä¸€ä¸ªæ­¥é•¿ï¼Œå·ç§¯æ ¸ä¼šä¸è¾“å…¥ç‰¹å¾å›¾å‡ºç°é‡åˆåŒºåŸŸï¼Œé‡åˆåŒºåŸŸå¯¹åº”å…ƒç´ ç›¸ä¹˜ã€æ±‚å’Œå†åŠ ä¸Šåç½®é¡¹ï¼Œå¾—åˆ°è¾“å‡ºç‰¹å¾çš„ä¸€ä¸ªåƒç´ ç‚¹ã€‚<br><img src="https://i.loli.net/2021/02/22/TBMPohCsjU3ZNAF.png" alt="image.png">    </p>
<p><strong>ğŸ±è¡¥å……</strong>   </p>
<ul>
<li>å›¾åƒçš„æ·±åº¦<br>å›¾åƒæ˜¯ç”±ä¸€ä¸ªä¸ªåƒç´ ç‚¹æ„æˆï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶æ¥è¿›è¡Œå‚¨å­˜ï¼Œæ¯ä¸€ä¸ªåƒç´ ç‚¹æ‰€å ç”¨çš„bitä½æ•°ï¼Œå°±æ˜¯å›¾åƒçš„æ·±åº¦ã€‚   <ul>
<li>äºŒå€¼å›¾åƒ<br>åƒç´ ç‚¹å–å€¼ä¸º0æˆ–1ï¼Œä¹Ÿå°±æ˜¯é»‘ç™½ä¸¤è‰².åƒç´ ç‚¹æ‰€å ä½æ•°ä¸º1ä½ï¼Œåˆ™æ·±åº¦ä¸º1  </li>
<li>ç°åº¦å›¾åƒ<br>åƒç´ ç‚¹å–å€¼ä¸º0-255ï¼Œ2^8=256ï¼Œæ‰€ä»¥æ·±åº¦æ˜¯8   </li>
</ul>
</li>
<li>å›¾åƒçš„é€šé“<br>24ä½å›¾ï¼Œä¹Ÿå°±æ˜¯2^24ï¼Œæˆ‘ä»¬ç”¨8ä½ä»£è¡¨ä¸€ç§é¢œè‰²ï¼Œé‚£ä¹ˆæ¯ä¸€ç§é¢œè‰²éƒ½æ˜¯0-255çš„èŒƒå›´å†…ï¼Œæ¯ä¸€ä¸ªåƒç´ ç‚¹ä¸º(0-255,0-255,0-255),è¿™å°±æ˜¯ä¸‰é€šé“RGB    </li>
</ul>
<p><strong>å·ç§¯æ ¸çš„é€šé“æ•°ä¸è¾“å…¥ç‰¹å¾å›¾çš„é€šé“æ•°ä¸€è‡´</strong><br>å¦‚æœè¾“å…¥ç‰¹å¾æ˜¯å•é€šé“ç°å›¾ï¼Œç”¨æ·±åº¦ä¸º1çš„å•é€šé“å·ç§¯æ ¸<br>å¦‚æœè¾“å…¥ç‰¹å¾æ˜¯ä¸‰é€šé“å½©è‰²å›¾ï¼Œç”¨3<em>3</em>3çš„å·ç§¯æ ¸æˆ–5<em>5</em>3çš„å·ç§¯æ ¸<br>è¦æƒ³è®©å·ç§¯æ ¸ä¸è¾“å…¥ç‰¹å¾å›¾å¯¹åº”ç‚¹åŒ¹é…ä¸Šï¼Œå¿…é¡»è®©å·ç§¯æ ¸çš„æ·±åº¦ä¸è¾“å…¥ç‰¹å¾å›¾çš„æ·±åº¦ä¸€è‡´<br><strong>è¾“å…¥ç‰¹å¾å›¾çš„æ·±åº¦(channelæ•°),å†³å®šäº†å½“å‰å±‚å·ç§¯æ ¸çš„æ·±åº¦:</strong><br>(ä¸Šè¿°åŠ ç²—çš„å°±æ˜¯åŸæ–‡çš„è¡¨è¿°ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸æ˜¯æŒ‡å›¾åƒçš„æ·±åº¦ï¼Œå› è¯¥æ˜¯å›¾åƒçš„é€šé“æ•°)<br>æ¯ä¸ªå·ç§¯æ ¸åœ¨å·ç§¯è®¡ç®—åä¼šå¾—åˆ°ä¸€å¼ è¾“å‡ºç‰¹å¾å›¾ï¼Œæ‰€ä»¥å½“å‰æœ‰å‡ ä¸ªå·ç§¯æ ¸ï¼Œå°±æœ‰å‡ å¼ è¾“å‡ºç‰¹å¾å›¾ã€‚<br><strong>å½“å‰å±‚å·ç§¯æ ¸çš„ä¸ªæ•°ï¼Œå†³å®šäº†å½“å‰å±‚è¾“å‡ºç‰¹å¾å›¾çš„æ·±åº¦</strong><br>å¯ä»¥é€šè¿‡å¤šç”¨å‡ ä¸ªå·ç§¯æ ¸æé«˜è¯¥å±‚çš„ç‰¹å¾æå–èƒ½åŠ›<br><img src="https://i.loli.net/2021/02/22/jZkKz6gTyHlE5MQ.png" alt="image.png">  </p>
<p>æ¯ä¸€ä¸ªå°é¢—ç²’éƒ½å­˜å‚¨ç€å¾…è®­ç»ƒå‚æ•°ï¼Œåœ¨æ‰§è¡Œå·ç§¯è®¡ç®—æ—¶ï¼Œè¿™äº›å‚æ•°æ˜¯ä¸å˜çš„ã€‚è€Œåœ¨åå‘ä¼ æ’­ä¸­ï¼Œè¿™äº›å‚æ•°æ˜¯éšç€æ¢¯åº¦ä¸‹é™è·Ÿæ–°çš„<br>å·ç§¯å°±æ˜¯åˆ©ç”¨ç«‹ä½“å·ç§¯æ ¸å®ç°äº†å‚æ•°çš„ç©ºé—´å…±äº«    </p>
<blockquote>
<p>You can imagine convolution as the mixing of information. Imagine two buckets full of information which are poured into one single bucket and then mixed according to a specific rule. Each bucket of information has its own recipe, which describes how the information in one bucket mixes with the other. So convolution is an orderly procedure where two sources of information are intertwined.</p>
</blockquote>
<h1 id="æ„Ÿå—é‡Receptive-Field"><a href="#æ„Ÿå—é‡Receptive-Field" class="headerlink" title="æ„Ÿå—é‡Receptive Field"></a>æ„Ÿå—é‡Receptive Field</h1><p><strong>å®šä¹‰ï¼š</strong> å·ç§¯ç¥ç»ç½‘ç»œå„è¾“å‡ºç‰¹å¾å›¾ä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ï¼Œåœ¨åŸå§‹è¾“å…¥å›¾ç‰‡ä¸Šæ˜ å°„åŒºåŸŸçš„å¤§å°<br><img src="https://i.loli.net/2021/02/22/jCZ6egWkyBzMDL5.png" alt="image.png"><br>å¯ä»¥çœ‹åˆ°åŸå§‹çš„<code>5*5</code>çš„å›¾ç”¨é»„è‰²çš„<code>3*3</code>å·ç§¯æ ¸ä½œç”¨ï¼Œåˆ™å¾—åˆ°äº†ä¸€ä¸ª<code>3*3</code>çš„è¾“å‡ºç‰¹å¾å›¾ï¼Œå›¾ä¸Šçš„æ¯ä¸ªåƒç´ ç‚¹æ˜ å°„åˆ°åŸå§‹è¾“å…¥å›¾ç‰‡æ˜¯<code>3*3</code>çš„åŒºåŸŸï¼Œæ‰€ä»¥å…¶<strong>æ„Ÿå—é‡æ˜¯3</strong><br><img src="https://i.loli.net/2021/02/22/F6ayAlHZi2ObqTt.png" alt="image.png"><br>è€Œå¦‚æœå†å¯¹è¿™ä¸ª<code>3*3</code>çš„è¾“å‡ºç‰¹å¾å›¾ç”¨<code>3*3</code>çš„å·ç§¯æ ¸ä½œç”¨ï¼Œè¾“å‡ºçš„æ˜¯ä¸€ä¸ª<code>1*1</code>çš„è¾“å‡ºç‰¹å¾å›¾ï¼Œè€Œè¿™ä¸ªè¾“å‡ºç‰¹å¾å›¾çš„<strong>æ„Ÿå—é‡æ˜¯5</strong>ï¼Œå› ä¸ºè¦æ˜ å°„åˆ°åŸå§‹å›¾ç‰‡ï¼Œå…ˆæ˜ å°„ä¸€æ¬¡ï¼Œæ˜¯ä¸Šä¸€ä¸ªè¾“å‡ºç‰¹å¾å›¾çš„æ‰€æœ‰ï¼Œåˆ™å†æ˜ å°„å°±æ˜¯åŸå§‹ç‰¹å¾å›¾çš„æ‰€æœ‰äº†ã€‚<br><img src="https://i.loli.net/2021/02/22/n4uvsiVSPxJkFB7.png" alt="image.png"><br>è€Œå¦‚æœ<code>5*5</code>çš„åŸå§‹å›¾ç›´æ¥ç”¨<code>5*5</code>çš„å·ç§¯æ ¸ä½œç”¨ï¼Œå¾—åˆ°çš„æ˜¯<code>1*1</code>çš„è¾“å‡ºç‰¹å¾å›¾ï¼Œ<strong>æ„Ÿå—é‡ä¹Ÿæ˜¯5</strong>    </p>
<p>ä¹Ÿå°±æ˜¯ï¼Œä¸¤å±‚çš„<code>3*3</code>å·ç§¯æ ¸å’Œä¸€å±‚çš„<code>5*5</code>å·ç§¯æ ¸ä½œç”¨å¾—åˆ°çš„è¾“å‡ºç‰¹å¾å›¾çš„æ„Ÿå—é‡éƒ½æ˜¯5ï¼›æ‰€ä»¥è¿™ä¸¤ä¸ªçš„ç‰¹å¾æå–èƒ½åŠ›æ˜¯ä¸€æ ·çš„ã€‚<br>ç”±æ­¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œç‰¹å¾æå–èƒ½åŠ›çš„å¯ä»¥é€šè¿‡æ„Ÿå—é‡çš„å¤§å°æ¥åˆ¤æ–­ã€‚<br>é‚£ä¹ˆæ˜¯é€‰æ‹©<code>ä¸¤ä¸ª3*3</code>è¿˜æ˜¯<code>ä¸€ä¸ª5*5</code>å‘¢ï¼Ÿ<br>æ­¤æ—¶åˆ™è€ƒè™‘ä»–ä»¬æ‰€æ‰¿è½½çš„<strong>å¾…è®­ç»ƒå‚æ•°é‡</strong>å’Œ<strong>è®¡ç®—é‡</strong>äº†ã€‚<br><img src="https://i.loli.net/2021/02/22/gTzqi91PBx5puWt.png" alt="image.png"><br><strong>ğŸ±è¡¥å……</strong><br>ç»è¿‡å·ç§¯æ ¸ä½œç”¨åçš„è¾“å‡ºç‰¹å¾å›¾çš„åƒç´ ç‚¹ä¸ªæ•°çš„è®¡ç®—å…¬å¼ã€‚<br>å‡è®¾ï¼Œè¾“å…¥ç‰¹å¾å›¾çš„å®½ã€é«˜ä¸ºx,å·ç§¯æ ¸ä¸ºm<em>mï¼Œåˆ™ç»è¿‡å·ç§¯æ ¸ä½œç”¨åçš„è¾“å‡ºç‰¹å¾å›¾ä¸€å…±æœ‰<code>(x-m+1)^2</code>ä¸ªåƒç´ ç‚¹<br>å¾—åˆ°æ¯ä¸€ä¸ªåƒç´ ç‚¹è¦è¿›è¡Œ<code>m*m</code>æ¬¡ä¹˜åŠ è¿ç®—ï¼Œæ‰€ä»¥æ€»è®¡ç®—é‡ä¸º```m*m</em>(x-m+1)^2```      </p>
<p>æ‰€ä»¥åœ¨ç¥ç»ç½‘ç»œè®¡ç®—ä¸­å¸¸ä½¿ç”¨<code>ä¸¤å±‚3*3å·ç§¯æ ¸</code>æ›¿æ¢<code>5*5å·ç§¯æ ¸</code>çš„åŸå›    </p>
<h1 id="å…¨é›¶å¡«å……"><a href="#å…¨é›¶å¡«å……" class="headerlink" title="å…¨é›¶å¡«å……"></a>å…¨é›¶å¡«å……</h1><p>ä½¿å·ç§¯è®¡ç®—ä¿æŒè¾“å…¥ç‰¹å¾å›¾å°ºå¯¸ä¸å˜ï¼Œåˆ™ç”¨å…¨é›¶å¡«å……<br><img src="https://i.loli.net/2021/02/22/nXliHJ4Ivx73GDQ.png" alt="image.png"><br>ä¹Ÿå°±æ˜¯ï¼Œè¾“å‡ºç‰¹å¾å›¾çš„ç»´åº¦è®¡ç®—å…¬å¼ä¸º<code>VALID</code>éƒ¨åˆ†ã€‚   </p>
<h1 id="æè¿°å·ç§¯è®¡ç®—å±‚"><a href="#æè¿°å·ç§¯è®¡ç®—å±‚" class="headerlink" title="æè¿°å·ç§¯è®¡ç®—å±‚"></a>æè¿°å·ç§¯è®¡ç®—å±‚</h1><p><img src="https://i.loli.net/2021/02/22/ALKBIh94GQErUzi.png" alt="image.png"><br><strong>ğŸ±è¡¥å……</strong><br>BNæ˜¯æŒ‡Batch Normalization,ç‰¹å°±æ˜¯æ‰¹é‡æ ‡å‡†åŒ–å¤„ç†ã€‚  </p>
<h1 id="BN"><a href="#BN" class="headerlink" title="BN"></a>BN</h1><p>ç¥ç»ç½‘ç»œå¯¹0é™„è¿‘çš„æ•°æ®æ›´æ•æ„Ÿï¼Œä½†ä¼šå­˜åœ¨ä¸€äº›ç‰¹å¾å€¼åç¦»0çš„æƒ…å†µï¼Œæ‰€ä»¥å°±æœ‰äº†<code>æ ‡å‡†åŒ–</code><br><strong>æ ‡å‡†åŒ–ï¼š</strong>ä½¿æ•°æ®ç¬¦åˆä»¥0ä¸ºå‡å€¼ï¼Œä»¥1ä¸ºæ ‡å‡†å·®çš„åˆ†å¸ƒ<br><strong>æ‰¹æ ‡å‡†åŒ–ï¼š</strong>å¯¹ä¸€å°æ‰¹æ•°æ®(batch)ï¼Œæ ‡å‡†åŒ–å¤„ç†<br>BNå¸¸ç”¨åœ¨å·ç§¯æ“ä½œå’Œæ¿€æ´»æ“ä½œä¹‹é—´<br><img src="https://i.loli.net/2021/02/22/kIOLWd6aJtubGRq.png" alt="image.png"><br>æ‰¹æ ‡å‡†åŒ–æ“ä½œä¼šè®©æ¯ä¸ªåƒç´ ç‚¹è¿›è¡Œ<code>å‡å‡å€¼å¹¶å¤„ä»¥æ ‡å‡†å·®</code>çš„è‡ªæ›´æ–°è®¡ç®—<br><img src="https://i.loli.net/2021/02/22/aibSC7FtvhjTJmG.png" alt="image.png"><br>é€šè¿‡BNæ“ä½œï¼Œä½¿å¾—ç‰¹å¾æ•°æ®é›†ä¸­åœ¨æ¿€æ´»å‡½æ•°çº¿æ€§å˜åŒ–åŒºé—´ï¼Œä½¿å¾—å°±ç®—ç‰¹å¾æ•°æ®å˜åŒ–å°ï¼Œä¹Ÿèƒ½æ˜æ˜¾åœ°æç°åˆ°æ¿€æ´»å‡½æ•°è¾“å‡ºä¸­ï¼Œæå‡äº†æ¿€æ´»å‡½æ•°å¯¹è¾“å…¥æ•°æ®åœ°åŒºåˆ†åŠ›<br>ä½†è¿™æ ·ç®€å•çš„æ ‡å‡†åŒ–ï¼Œä½¿å¾—ç‰¹å¾æ•°æ®å®Œå…¨æ»¡è¶³æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œé›†ä¸­åœ¨æ¿€æ´»å‡½æ•°ä¸­å¿ƒçš„çº¿æ€§åŒºåŸŸï¼Œæ˜¯æ¿€æ´»å‡½æ•°ä¸§å¤±ï¼›äº†éçº¿æ€§ç‰¹æ€§ï¼Œå› æ­¤åœ¨BNæ“ä½œä¸­ä¸ºæ¯ä¸ªå·ç§¯æ ¸å¼•å…¥äº†ä¸¤ä¸ªå¯è®­ç»ƒå‚æ•°ï¼Œç¼©æ”¾å› å­Î³å’Œåç§»å› å­Î²<br>è¿™ä¸¤ä¸ªå› å­ä¼šä¸å…¶ä»–å¸¦è®­ç»ƒå‚æ•°ä¸€åŒè¢«è®­ç»ƒä¼˜åŒ–ï¼Œæ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒåçš„ç‰¹å¾æ•°æ®é€šè¿‡ç¼©æ”¾å› å­å’Œåç§»å› å­ä¼˜åŒ–äº†ç‰¹å¾æ•°æ®åˆ†å¸ƒçš„å®½çª„å’Œåç§»é‡ï¼Œä¿è¯äº†ç½‘ç»œçš„éçº¿æ€§è¡¨è¾¾åŠ›<br><img src="https://i.loli.net/2021/02/22/KA1q8HGwh9oFpYb.png" alt="image.png">   </p>
<h1 id="æ± åŒ–Pooling"><a href="#æ± åŒ–Pooling" class="headerlink" title="æ± åŒ–Pooling"></a>æ± åŒ–Pooling</h1><p><strong>æ± åŒ–ç”¨äºå‡å°‘ç‰¹å¾æ•°æ®é‡</strong><br>æ± åŒ–çš„ä¸»è¦æ–¹æ³•   </p>
<ul>
<li>æœ€å¤§æ± åŒ–<br>å¯æå–å›¾ç‰‡çº¹ç†<br>å› ä¸ºæå–äº†ä¸»è¦ç‰¹å¾ï¼Œæ‰€ä»¥ç›¸å½“äºçº¹ç†  </li>
<li>å‡å€¼æ± åŒ–<br>å¯ä¿ç•™èƒŒæ™¯ç‰¹å¾ã€‚<br><img src="https://i.loli.net/2021/02/22/hoBeALYsGSuyM2m.png" alt="image.png"><br>å¦‚å›¾æ‰€ç¤ºï¼Œç”¨äº†ä¸€ä¸ª2<em>2çš„æ± åŒ–æ ¸ï¼Œå¯¹è¾“å…¥å›¾ç‰‡è¿›è¡Œäº†ä»¥2ä¸ºæ­¥é•¿çš„æ± åŒ–ã€‚<br>ä¹Ÿå°±æ˜¯æˆ‘ç”¨ä¸€ä¸ª2</em>2çš„æ–¹æ¡†ï¼Œæ¡†ä½äº†å›¾ç‰‡é‡Œå¯¹åº”çš„å››ä¸ªåƒç´ ç‚¹ï¼Œé€šè¿‡æ± åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚æœ€å¤§æ± åŒ–ï¼Œé€‰æ‹©è¿™å››ä¸ªåƒç´ ç‚¹ä¸­æœ€å¤§çš„æ•°ä½œä¸ºè¾“å‡ºçš„åƒç´ ç‚¹å€¼ï¼Œæˆ–è€…å‡å€¼æ± åŒ–ï¼Œå–è¿™å››ä¸ªåƒç´ ç‚¹çš„å‡å€¼ä½œä¸ºè¾“å‡ºçš„åƒç´ ç‚¹å€¼ï¼Œå¾—åˆ°æˆ‘ä»¬ç»è¿‡æ± åŒ–åçš„åŸå›¾å¤§å°çš„å››åˆ†ä¹‹ä¸€ã€‚<br><img src="https://i.loli.net/2021/02/22/DZgYfNi3HB4b8Pp.png" alt="image.png"><br><img src="https://i.loli.net/2021/02/22/6udcfhL4DPYVS5H.png" alt="image.png"></li>
</ul>
<h1 id="èˆå¼ƒDropout"><a href="#èˆå¼ƒDropout" class="headerlink" title="èˆå¼ƒDropout"></a>èˆå¼ƒDropout</h1><p>ä¸ºäº†ç¼“è§£ç¥ç»ç½‘ç»œè¿‡æ‹Ÿåˆï¼Œåœ¨ç¥ç»ç½‘ç»œè®­ç»ƒæ—¶ï¼Œå°†éšè—å±‚çš„ä¸€éƒ¨åˆ†ç¥ç»å…ƒæŒ‰ç…§ä¸€å®šæ¦‚ç‡ä»ç¥ç»ç½‘ç»œä¸­æš‚æ—¶èˆå¼ƒã€‚åœ¨ç¥ç»ç½‘ç»œä½¿ç”¨æ—¶ï¼Œè¢«èˆå¼ƒçš„ç¥ç»å…ƒæ¢å¤è¿æ¥ã€‚   </p>
<p><img src="https://i.loli.net/2021/02/22/64PE7DiGgNWXfM5.png" alt="image.png">    </p>
<h1 id="å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œ"></a>å·ç§¯ç¥ç»ç½‘ç»œ</h1><p>å·ç§¯ç¥ç»ç½‘ç»œå°±æ˜¯å€ŸåŠ©å·ç§¯æ ¸å¯¹è¾“å…¥ç‰¹å¾è¿›è¡Œç‰¹å¾æå–ï¼Œæå–åé€å…¥å…¨è¿æ¥ç½‘ç»œè¿›è¡Œè¯†åˆ«é¢„æµ‹<br><img src="https://i.loli.net/2021/02/22/FrtYCqnyZcmDhT6.png" alt="image.png">   </p>
<p><img src="https://i.loli.net/2021/02/22/qCKZTbpyrPXxvU4.png" alt="image.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/21/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%85%AB%E8%82%A1%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/21/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%85%AB%E8%82%A1%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95/" class="post-title-link" itemprop="url">ç¥ç»ç½‘ç»œå…«è‚¡åŠŸèƒ½æ‰©å±•</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-21 20:02:20" itemprop="dateCreated datePublished" datetime="2021-02-21T20:02:20+08:00">2021-02-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-22 13:53:29" itemprop="dateModified" datetime="2021-02-22T13:53:29+08:00">2021-02-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="è‡ªåˆ¶æ•°æ®é›†"><a href="#è‡ªåˆ¶æ•°æ®é›†" class="headerlink" title="è‡ªåˆ¶æ•°æ®é›†"></a>è‡ªåˆ¶æ•°æ®é›†</h1><p>æ„æ€å°±æ˜¯ï¼Œè‹¥æˆ‘æœ‰ä¸€å †å›¾ç‰‡ï¼Œä¸€ä¸ªæ ‡ç­¾æ–‡æœ¬ï¼Œå¦‚ä½•æå–åšå‡ºæˆ‘ä»¬çš„<code>x_train,y_train</code><br>é¦–å…ˆæˆ‘ä»¬å°†æ ‡ç­¾æ–‡æœ¬æ•´ç†ï¼Œç¬¬ä¸€åˆ—æ˜¯å›¾ç‰‡åç§°ï¼Œç¬¬äºŒåˆ—å°±æ˜¯è¯¥å›¾ç‰‡å¯¹åº”çš„æ ‡ç­¾ã€‚<br>ä¸ºä»€ä¹ˆæ˜¯å›¾ç‰‡åç§°ï¼Ÿ<br>å› ä¸ºï¼Œæˆ‘ä»¬è¦æå–å‡º<code>x,y</code>ä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªå›¾ç‰‡ä¸­æå–äº†å®ƒçš„ç°åº¦å€¼ï¼Œè¦èƒ½å¤Ÿä¸yå¯¹åº”ã€‚<br>è€Œå¦‚ä½•æå–ä¸€ä¸ªå›¾ç‰‡çš„åƒç´ å€¼ï¼Ÿ<br>å¯¼å…¥<code>PIL</code>åº“ä¸­çš„<code>Image</code>,ç”¨<code>Imag.open(å›¾ç‰‡è·¯å¾„)</code>è¯»å…¥å›¾ç‰‡ï¼Œ<code>np.array(img.convert(&#39;L&#39;))</code>è½¬å˜ä¸ºç°åº¦å€¼çš„<code>np.array</code>æ ¼å¼ï¼Œæ­¤æ—¶å…¶å®å°±æ‹¿åˆ°äº†æˆ‘ä»¬çš„xï¼Œå›¾ç‰‡å¯¹åº”çš„ç°åº¦å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜åº”è¯¥åšå½’ä¸€åŒ–å¤„ç†<code>img/255</code><br>æ­¤æ—¶æˆ‘ä»¬å°±å¾—åˆ°äº†æˆ‘ä»¬çš„xï¼Œé‚£ä¹ˆè¦ä¸yå¯¹åº”ï¼Œå°±è¦ä¿è¯åœ¨<code>æ ‡ç­¾çš„txt</code>æ–‡æ¡£ä¸­ï¼Œåå­—ä¸æ ‡ç­¾ä¸€ä¸€å¯¹åº”ï¼Œå†åœ¨è¯»å–å›¾ç‰‡æ—¶å›¾ç‰‡æ‰€åœ¨ç›®å½•<code>path</code>åŠ ä¸Šå›¾ç‰‡åå­—å°±æ˜¯å›¾ç‰‡çš„<code>path</code>ã€‚    </p>
<p>ğŸ†å…·ä½“ä»£ç å¦‚ä¸‹<br><img src="https://i.loli.net/2021/02/21/tcNxvV1ewHmJZnp.png" alt="image.png"><br><img src="https://i.loli.net/2021/02/21/VXqHKwU9rFE41QI.png" alt="image.png"></p>
<h1 id="æ•°æ®å¢å¼º"><a href="#æ•°æ®å¢å¼º" class="headerlink" title="æ•°æ®å¢å¼º"></a>æ•°æ®å¢å¼º</h1><p>æ•°æ®å¢å¼ºå¯ä»¥å¸®åŠ©æ‰©å±•æ•°æ®é›†<br>å¯¹å›¾åƒçš„å¢å¼ºï¼Œå°±æ˜¯å¯¹å›¾åƒçš„ç®€å•å½¢å˜ã€‚<br>Tensorlow2æœ‰æ•°æ®å¢å¼ºå‡½æ•°<br><img src="https://i.loli.net/2021/02/21/6FDYsyQNM9ohanb.png" alt="image.png"><br><img src="https://i.loli.net/2021/02/21/EPkrO7dFKetN8y9.png" alt="image.png"><br>è¿™ä¸ªç›¸å½“äºå‰é¢æ˜¯ä¸€ç§è®¾ç½®ï¼Œç„¶åç”¨<code>fit()</code>æŠŠè®¾ç½®çš„å‚æ•°æ”¾åœ¨æˆ‘ä»¬çš„è®­ç»ƒé›†ä¸­<code>x_train</code><br>è€Œè¿™é‡Œçš„<code>imag_gen_train_fit(x_train)</code>éœ€è¦è¾“å…¥ä¸€ä¸ªå››ä½æ•°æ®ï¼Œæ‰€ä»¥è¦å¯¹<code>x_train.reshape(x_train.shape[0],28,28,1)</code><br>ä¹Ÿå°±æ˜¯å°†(60000,28,28) -&gt; (60000,28,28,1)<br><img src="https://i.loli.net/2021/02/21/v96z4hRuZDcOApm.png" alt="image.png">    </p>
<h1 id="æ–­ç‚¹ç»­è®­"><a href="#æ–­ç‚¹ç»­è®­" class="headerlink" title="æ–­ç‚¹ç»­è®­"></a>æ–­ç‚¹ç»­è®­</h1><p><strong>å®šä¹‰ï¼š</strong> åœ¨è¿›è¡Œç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹ä¸­ç”±äºä¸€äº›å› ç´ å¯¼è‡´è®­ç»ƒæ— æ³•è¿›è¡Œï¼Œéœ€è¦ä¿å­˜å½“å‰çš„è®­ç»ƒç»“æœï¼Œä¸‹æ¬¡æ¥ç€è®­ç»ƒ    </p>
<h2 id="è¯»å–æ¨¡å‹"><a href="#è¯»å–æ¨¡å‹" class="headerlink" title="è¯»å–æ¨¡å‹"></a>è¯»å–æ¨¡å‹</h2><p>å¯ç›´æ¥ä½¿ç”¨tensorflowç»™å‡ºçš„å‡½æ•°<code>load_weights(è·¯å¾„æ–‡ä»¶å)</code>è¯»å–å·²æœ‰æ¨¡å‹å‚æ•°<br>å…ˆå®šä¹‰å‡ºå­˜æ”¾æ¨¡å‹çš„è·¯å¾„å’Œæ–‡ä»¶åï¼Œå¹¶å‘½åä¸ºckptæ–‡ä»¶<code>checkpoint_save_path = &quot;./checkpoint/mnist.ckpt&quot;</code><br><strong>ğŸ±è¡¥å……</strong> ckptæ–‡ä»¶ç”¨äºå­˜æ”¾<code>weightsã€biasesã€gradientsç­‰</code>å˜é‡<br>åœ¨ç”Ÿæˆ<code>ckpt</code>æ–‡ä»¶æ—¶ä¼šåŒæ­¥ç”Ÿæˆç´¢å¼•è¡¨ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åˆ¤æ–­æ˜¯å¦å·²æœ‰ç´¢å¼•è¡¨ï¼Œå°±çŸ¥é“æ˜¯ä¸æ˜¯å·²ç»ä¿å­˜è¿‡æ¨¡å‹å‚æ•°äº†<code>if os.path.exists(checkpoint_save_path + &#39;.index&#39;):</code><br>å¦‚æœæœ‰äº†ç´¢å¼•è¡¨ï¼Œå°±å¯ä»¥è°ƒç”¨<code>model.load_weights(checkpoint_save_path)</code>å‡½æ•°ï¼Œæ¥è¯»å–æ¨¡å‹å‚æ•°ã€‚</p>
<h2 id="ä¿å­˜æ¨¡å‹"><a href="#ä¿å­˜æ¨¡å‹" class="headerlink" title="ä¿å­˜æ¨¡å‹"></a>ä¿å­˜æ¨¡å‹</h2><p>ä¿å­˜æ¨¡å‹å‚æ•°å¯ä»¥ä½¿ç”¨tensorflowçš„å›è°ƒå‡½æ•°ç›´æ¥ä¿å­˜è®­ç»ƒå‡ºæ¥çš„å‚æ•°ã€‚     </p>
<pre><code>tf.keras.callbacks.ModelCheckpoint(
    filepath = è·¯å¾„æ–‡ä»¶å,   
    save_weights_only =True/False, #æ˜¯å¦åªä¿ç•™æ¨¡å‹å‚æ•°
    save_best_only=True/False   #æ˜¯å¦åªä¿ç•™æœ€ä¼˜ç»“æœ
)
history = model.fit(callbacks=[cp_callback])</code></pre><p><img src="https://i.loli.net/2021/02/21/obsF9EQxZ3KzCNM.png" alt="image.png"></p>
<p><img src="https://i.loli.net/2021/02/21/lpXTjmz4kU29oZ5.png" alt="image.png"></p>
<h2 id="å‚æ•°æå–"><a href="#å‚æ•°æå–" class="headerlink" title="å‚æ•°æå–"></a>å‚æ•°æå–</h2><p><strong>æŠŠå‚æ•°å­˜å…¥æ–‡æœ¬</strong><br>Tensorflowä¸­å¯ä»¥ç”¨<code>model.trainable_variables</code>è¿”å›å½“å‰æ¨¡å‹ä¸­æ‰€æœ‰å¯è®­ç»ƒå‚æ•°<br>å¯ä»¥ç”¨<code>print</code>å‡½æ•°æ‰“å°å‡ºè¿™äº›å¯è®­ç»ƒå‚æ•°<br>ä½†æ˜¯å¦‚æœç›´æ¥<code>print</code>ï¼Œå¾ˆå¤šå‚æ•°ä¼šè¢«çœç•¥å·æ›¿æ¢æ‰,å¯ä»¥é€šè¿‡<code>np.set_printoptions(threshold=è¶…è¿‡å¤šå°‘çœç•¥æ˜¾ç¤º)</code>è®¾ç½®æ‰“å°æ•ˆæœ<br>è®¾ç½®ä¸º<code>np.set_printoptions(threshold=np.inf)</code>åˆ™ï¼Œæ‰€æœ‰éƒ½ä¸çœç•¥ï¼Œéƒ½æ‰“å°<br>è¿™æ—¶ï¼Œå†<code>print(model.trainable_variables)</code>å°±å¯ä»¥æ‰“å°å‡ºæ‰€æœ‰å¯è®­ç»ƒå‚æ•°äº†    </p>
<h2 id="acc-losså¯è§†åŒ–"><a href="#acc-losså¯è§†åŒ–" class="headerlink" title="acc/losså¯è§†åŒ–"></a>acc/losså¯è§†åŒ–</h2><p>åœ¨<code>model.fit()</code>ä¸­è®°å½•äº†<code>è®­ç»ƒé›†lossã€æµ‹è¯•é›†lossã€è®­ç»ƒé›†å‡†ç¡®ç‡sparse_categorical_accuracyã€æµ‹è¯•é›†å‡†ç¡®ç‡val_sparse_categorical_accuracy</code>    </p>
<pre><code>history = model.fit(x_train, y_train, batch_size=32, epochs=5, validation_data=(x_test, y_test), validation_freq=1,
                callbacks=[cp_callback])


# æå–äº†model.fitå‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¿å­˜çš„è®­ç»ƒé›†å‡†ç¡®ç‡ç­‰
acc = history.history[&apos;sparse_categorical_accuracy&apos;]
val_acc = history.history[&apos;val_sparse_categorical_accuracy&apos;]
loss = history.history[&apos;loss&apos;]
val_loss = history.history[&apos;val_loss&apos;]

plt.subplot(1, 2, 1)
plt.plot(acc, label=&apos;Training Accuracy&apos;)
plt.plot(val_acc, label=&apos;Validation Accuracy&apos;)
plt.title(&apos;Training and Validation Accuracy&apos;)
plt.legend()

plt.subplot(1, 2, 2)
plt.plot(loss, label=&apos;Training Loss&apos;)
plt.plot(val_loss, label=&apos;Validation Loss&apos;)
plt.title(&apos;Training and Validation Loss&apos;)
plt.legend()
plt.show()</code></pre><p><img src="https://i.loli.net/2021/02/22/Z2tRlU8SGAc3p4H.png" alt="image.png"></p>
<h2 id="ç»™å›¾è¯†ç‰©"><a href="#ç»™å›¾è¯†ç‰©" class="headerlink" title="ç»™å›¾è¯†ç‰©"></a>ç»™å›¾è¯†ç‰©</h2><p>æ„æ€åº”è¯¥æ˜¯ï¼Œæˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ¨¡å‹äº†ï¼Œé‚£ä¹ˆæˆ‘è¦å¦‚ä½•æŠŠæˆ‘è¦æµ‹è¯•çš„åŠ è½½è¿›å»ï¼Œå¾—åˆ°ç›¸åº”çš„ç»“æœ<br>è¿ç”¨<code>predict(è¾“å…¥ç‰¹å¾,batch_size=æ•´æ•°)</code>è¿”å›å‰å‘ä¼ æ’­è®¡ç®—ç»“æœ<br>    # å¤ç°æ¨¡å‹<br>    model = tf.keras.models.Sequential([<br>        tf.keras.layers.Flatten(),<br>        tf.keras.layers.Dense(128,activation=â€™reluâ€™),<br>        tf.keras.layers.Dense(10,activation=â€™softmaxâ€™)<br>    ])</p>
<pre><code># åŠ è½½å‚æ•°   
model.load_weights(model_save_path)   

# é¢„æµ‹ç»“æœ
result = model.predict(x_predict)    </code></pre><p><strong>ä»£ç æ€è·¯:</strong><br>ç›®çš„æ˜¯ï¼Œæˆ‘ç°åœ¨è®­ç»ƒäº†ä¸€ä¸ªæ¨¡å‹ï¼Œæœ‰ä¸€å †æµ‹è¯•å›¾ç‰‡ï¼Œæ¥æµ‹è¯•è¿™ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹<br>é¦–å…ˆï¼Œæˆ‘è¦åŠ è½½å‡ºæˆ‘çš„ç½‘ç»œï¼Œä¹Ÿå°±æ˜¯ç»™å‡ºå…¶åœ°å€ï¼ŒåŠ è½½å‡ºå‚æ•°ï¼Œç„¶åè¦å–‚å…¥æˆ‘çš„æµ‹è¯•é›†çš„æ•°æ®  </p>
<pre><code>model_save_path = &apos;./checkpoint/mnist.ckpt&apos;

model = tf.keras.models.Sequential([
    tf.keras.layers.Flatten(),
    tf.keras.layers.Dense(128, activation=&apos;relu&apos;),
    tf.keras.layers.Dense(10, activation=&apos;softmax&apos;)])

model.load_weights(model_save_path)</code></pre><p>é‚£ä¹ˆæˆ‘ç°åœ¨æ—¶éšä¾¿ç»™çš„å›¾ç‰‡ï¼Œå¤§å°ï¼Œåƒç´ ç‚¹çš„å€¼ä¹Ÿä¸æˆ‘åŸæœ¬çš„ä¸ä¸€æ ·ã€‚<br>æ‹¿mnistä¸¾ä¾‹ï¼Œç»™å‡ºçš„å…¨æ˜¯28*28çš„é»‘åº•ç™½å­—çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆæˆ‘å¯¹æˆ‘çš„å›¾ç‰‡è¿›è¡Œé¢„å¤„ç†ã€‚    </p>
<ul>
<li><p>æ³•ä¸€<br>å‡¡æ˜¯ï¼Œç°åº¦åå€¼å°äº200çš„å…¨è®¾ä¸º255ï¼Œä¹Ÿå°±æ˜¯è®¾ä¸ºç™½è‰²ï¼›å‡¡æ˜¯å¤§äºçš„è®¾ä¸ºé»‘è‰²ï¼Œåˆ™åè½¬äº†    </p>
</li>
<li><p>æ³•äºŒ<br>ç›´æ¥åï¼Œ<code>img_arr = 255-img_arr</code>    </p>
<h1 id="å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†"><a href="#å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†" class="headerlink" title="å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†"></a>å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†</h1><p>  preNum = int(input(â€œinput the number of test pictures:â€))</p>
<p>  for i in range(preNum):</p>
<pre><code>image_path = input(&quot;the path of test picture:&quot;)
img = Image.open(image_path)
img = img.resize((28, 28), Image.ANTIALIAS)
img_arr = np.array(img.convert(&apos;L&apos;))</code></pre><p>  #ç¬¬äºŒç§æ–¹æ³•ï¼Œç›´æ¥é¢ å€’</p>
<pre><code>img_arr = 255 - img_arr</code></pre><p>  #ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ¨¡ç³ŠåŒ–ï¼Œå…¨éƒ¨å˜ä¸ºé»‘ç™½    </p>
<pre><code>for i in range(28):
    for j in range(28):
        if img_arr[i][j] &lt; 200:
            img_arr[i][j] = 255
        else:
            img_arr[i][j] = 0</code></pre></li>
</ul>
<pre><code>#æœ€åè®°å¾—å½’ä¸€åŒ–å¤„ç†   
img_arr = img_arr / 255.0


#img.resize((width, height),Image.ANTIALIAS)
ç¬¬äºŒä¸ªå‚æ•°ï¼š
    Image.NEAREST ï¼šä½è´¨é‡
    Image.BILINEARï¼šåŒçº¿æ€§
    Image.BICUBIC ï¼šä¸‰æ¬¡æ ·æ¡æ’å€¼
    Image.ANTIALIASï¼šé«˜è´¨é‡</code></pre><p>æ­¤æ—¶æˆ‘ä»¬çš„å›¾ç‰‡æ•°æ®ä¹Ÿå‡†å¤‡å¥½äº†ï¼Œä½†è¿™é‡Œè¦æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒé›†ä¸­å–‚å…¥çš„æ˜¯ä¸‰ç»´ï¼Œæ‰€ä»¥è¦åŠ ä¸€ç»´<code>x_predict = img_arr[tf.newaxis, ...]</code><br><strong>æœ€åå®Œæ•´ç‰ˆä»£ç ï¼š</strong><br>    from PIL import Image<br>    import numpy as np<br>    import tensorflow as tf</p>
<pre><code>model_save_path = &apos;./checkpoint/mnist.ckpt&apos;

model = tf.keras.models.Sequential([
    tf.keras.layers.Flatten(),
    tf.keras.layers.Dense(128, activation=&apos;relu&apos;),
    tf.keras.layers.Dense(10, activation=&apos;softmax&apos;)])

model.load_weights(model_save_path)

preNum = int(input(&quot;input the number of test pictures:&quot;))

for i in range(preNum):
    image_path = input(&quot;the path of test picture:&quot;)
    img = Image.open(image_path)
    img = img.resize((28, 28), Image.ANTIALIAS)
    img_arr = np.array(img.convert(&apos;L&apos;))

    for i in range(28):
        for j in range(28):
            if img_arr[i][j] &lt; 200:
                img_arr[i][j] = 255
            else:
                img_arr[i][j] = 0

    img_arr = img_arr / 255.0
    x_predict = img_arr[tf.newaxis, ...]
    result = model.predict(x_predict)

    pred = tf.argmax(result, axis=1)

    print(&apos;\n&apos;)
    tf.print(pred)</code></pre><p><img src="https://i.loli.net/2021/02/22/P2Ad1vEB8ysTfxL.png" alt="image.png"><br><img src="https://i.loli.net/2021/02/22/FJqbSR7eusfYUHx.png" alt="image.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/19/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9B%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/19/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9B%9B/" class="post-title-link" itemprop="url">Tensorflowå­¦ä¹ ç¬”è®°(å››)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-19 14:02:50" itemprop="dateCreated datePublished" datetime="2021-02-19T14:02:50+08:00">2021-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-21 19:52:24" itemprop="dateModified" datetime="2021-02-21T19:52:24+08:00">2021-02-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="MNISTæ•°æ®é›†"><a href="#MNISTæ•°æ®é›†" class="headerlink" title="MNISTæ•°æ®é›†"></a>MNISTæ•°æ®é›†</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><ul>
<li>æä¾›å…­ä¸‡å¼ 28*28åƒç´ ç‚¹çš„0~9æ‰‹å†™æ•°å­—å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œç”¨äºè®­ç»ƒ   </li>
<li>æä¾›ä¸€ä¸‡å¼ 28*28åƒç´ ç‚¹çš„0~9æ‰‹å†™æ•°å­—å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œç”¨äºæµ‹è¯• </li>
</ul>
<pre><code>#å¯¼å…¥MNISTæ•°æ®é›†  
mnist = tf.keras.datasets.mnist
(x_train,y_train),(x_test,y_test) =mnist.load_data()   

#å°†æ‰€æœ‰åƒç´ ç‚¹(28*28=784)çš„ç°åº¦å€¼ä½œä¸ºè¾“å…¥ç‰¹å¾ï¼Œè¾“å…¥ç¥ç»ç½‘ç»œæ—¶ï¼Œå°†æ•°æ®æ‹‰ä¼¸ä¸ºä¸€ç»´æ•°ç»„:   
tf.keras.layers.Flatten()    </code></pre><h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><pre><code>import tensorflow as tf
from matplotlib import pyplot as plt

mnist = tf.keras.datasets.mnist
(x_train, y_train), (x_test, y_test) = mnist.load_data()

# å¯è§†åŒ–è®­ç»ƒé›†è¾“å…¥ç‰¹å¾çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
plt.imshow(x_train[0], cmap=&apos;gray&apos;)  # ç»˜åˆ¶ç°åº¦å›¾
plt.show()

# æ‰“å°å‡ºè®­ç»ƒé›†è¾“å…¥ç‰¹å¾çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
print(&quot;x_train[0]:\n&quot;, x_train[0])
# æ‰“å°å‡ºè®­ç»ƒé›†æ ‡ç­¾çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
print(&quot;y_train[0]:\n&quot;, y_train[0])

# æ‰“å°å‡ºæ•´ä¸ªè®­ç»ƒé›†è¾“å…¥ç‰¹å¾å½¢çŠ¶
print(&quot;x_train.shape:\n&quot;, x_train.shape)
# æ‰“å°å‡ºæ•´ä¸ªè®­ç»ƒé›†æ ‡ç­¾çš„å½¢çŠ¶
print(&quot;y_train.shape:\n&quot;, y_train.shape)
# æ‰“å°å‡ºæ•´ä¸ªæµ‹è¯•é›†è¾“å…¥ç‰¹å¾çš„å½¢çŠ¶
print(&quot;x_test.shape:\n&quot;, x_test.shape)
# æ‰“å°å‡ºæ•´ä¸ªæµ‹è¯•é›†æ ‡ç­¾çš„å½¢çŠ¶
print(&quot;y_test.shape:\n&quot;, y_test.shape)</code></pre><p>xæœªæˆªå®Œï¼Œå¯ä»¥çœ‹è§ï¼Œxæ˜¯28<em>28çš„çŸ©é˜µï¼Œæ¯ä¸€ä¸ªç‚¹ï¼Œä»£è¡¨è¯¥å¤„çš„ç°åº¦å€¼<br>0è¡¨ç¤ºé»‘è‰²ï¼Œ255è¡¨ç¤ºçº¯ç™½è‰²<br><img src="https://i.loli.net/2021/02/21/ws3MbZCXG4xVPi5.png" alt=""><br>yåˆ™æ˜¯æ ‡ç­¾ä¹Ÿå°±æ˜¯è¯¥å›¾ç‰‡å¯¹åº”çš„æ•°å€¼æ˜¯æŒ‡å¤šå°‘ã€‚<br>å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ª<code>x_train</code>æ˜¯60000ä¸ª28</em>28çš„çŸ©é˜µï¼Œè€Œ<code>y_train</code>æ˜¯60000ä¸ªå€¼ï¼Œæ˜¯ä¸€ä¸ªåˆ—å‘é‡ã€‚<br><img src="https://i.loli.net/2021/02/21/HpIDnVXKeLSsh4B.png" alt="image.png"><br><img src="https://i.loli.net/2021/02/21/lT3OfDFC7H9tj5s.png" alt="image.png">   </p>
<h2 id="Sequentialå®ç°"><a href="#Sequentialå®ç°" class="headerlink" title="Sequentialå®ç°"></a>Sequentialå®ç°</h2><pre><code>import tensorflow as tf

mnist = tf.keras.datasets.mnist
(x_train, y_train), (x_test, y_test) = mnist.load_data()
x_train, x_test = x_train / 255.0, x_test / 255.0  #å½’ä¸€åŒ–ï¼Œä½¿0-255çš„ç°åº¦å€¼å˜æˆ0-1ä¹‹é—´çš„æ•°å€¼

model = tf.keras.models.Sequential([                #è¾“å…¥å±‚æ˜¯ä¸ç”¨å®šä¹‰çš„
    tf.keras.layers.Flatten(),                      #æŠŠè¾“å…¥ç‰¹å¾æ‹‰ç›´ä¸ºä¸€ç»´æ•°ç»„
    tf.keras.layers.Dense(128, activation=&apos;relu&apos;),      #éšè—å±‚ï¼Œæ¿€æ´»å‡½æ•°relu
    tf.keras.layers.Dense(10, activation=&apos;softmax&apos;)    #è¾“å‡ºå±‚ï¼Œç”¨softmaxä½¿è¾“å‡ºç¬¦åˆæ¦‚ç‡åˆ†å¸ƒ
])

#é…ç½®è®­ç»ƒæ–¹æ³•
model.compile(optimizer=&apos;adam&apos;,  #ä¼˜åŒ–å™¨
            loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False),   #å› ä¸ºä¸æ˜¯åŸå§‹è¾“å‡ºï¼Œè€Œæ˜¯ç”¨äº†æ¦‚ç‡åˆ†å¸ƒï¼Œæ‰€ä»¥ç”¨false
            metrics=[&apos;sparse_categorical_accuracy&apos;]) #æ•°æ®é›†æ ‡ç­¾æ˜¯æ•°å€¼ï¼Œç¥ç»ç½‘ç»œè¾“å‡ºæ˜¯æ¦‚ç‡åˆ†å¸ƒ

model.fit(x_train, y_train, batch_size=32, epochs=5, validation_data=(x_test, y_test), validation_freq=1)
model.summary()</code></pre><h2 id="classå®ç°"><a href="#classå®ç°" class="headerlink" title="classå®ç°"></a>classå®ç°</h2><pre><code>import tensorflow as tf
from tensorflow.keras.layers import Dense, Flatten
from tensorflow.keras import Model

mnist = tf.keras.datasets.mnist
(x_train, y_train), (x_test, y_test) = mnist.load_data()
x_train, x_test = x_train / 255.0, x_test / 255.0


class MnistModel(Model):
    def __init__(self):
        super(MnistModel, self).__init__()
        self.flatten = Flatten()
        self.d1 = Dense(128, activation=&apos;relu&apos;)
        self.d2 = Dense(10, activation=&apos;softmax&apos;)

    def call(self, x):
        x = self.flatten(x)
        x = self.d1(x)
        y = self.d2(x)
        return y


model = MnistModel()

model.compile(optimizer=&apos;adam&apos;,
            loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False),
            metrics=[&apos;sparse_categorical_accuracy&apos;])

model.fit(x_train, y_train, batch_size=32, epochs=5, validation_data=(x_test, y_test), validation_freq=1)
model.summary()</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/19/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/19/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%89/" class="post-title-link" itemprop="url">Tensorflowå­¦ä¹ ç¬”è®°(ä¸‰)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-02-19 09:45:00 / Modified: 14:01:50" itemprop="dateCreated datePublished" datetime="2021-02-19T09:45:00+08:00">2021-02-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ç”¨Sequentialå¯ä»¥æ­å»ºå‡ºä¸Šå±‚è¾“å‡ºå°±æ˜¯ä¸‹å±‚è¾“å…¥çš„é¡ºåºç½‘ç»œç»“æ„ï¼Œä½†æ— æ³•å†™å‡ºä¸€äº›å¸¦æœ‰è·³è¿çš„éé¡ºåºç½‘ç»œç»“æ„ã€‚<br>æ­¤æ—¶é€‰æ‹©ç”¨ç±»classæ­å»ºç¥ç»ç½‘ç»œç»“æ„<br><strong>ğŸ±å…­æ­¥æ³•</strong>   </p>
<ul>
<li>import</li>
<li>trainï¼Œtest</li>
<li>class MyModel(Model) model=MyModel   </li>
<li>model.compile</li>
<li>model.fit</li>
<li>model.summary</li>
</ul>
<h1 id="classç±»å°è£…ç¥ç»ç½‘ç»œç»“æ„"><a href="#classç±»å°è£…ç¥ç»ç½‘ç»œç»“æ„" class="headerlink" title="classç±»å°è£…ç¥ç»ç½‘ç»œç»“æ„"></a>classç±»å°è£…ç¥ç»ç½‘ç»œç»“æ„</h1><pre><code>âœ¨
class MyModel(Model):
    def __init__(self):
        super(MyModel,self).__init__()
        å®šä¹‰ç½‘ç»œç»“æ„å—
    def call(self,x):
        è°ƒç”¨ç½‘ç»œç»“æ„å—ï¼Œå®ç°å‰å‘ä¼ æ’­
        return y
model = MyModel()
âœ¨



ğŸ†#é¸¢å°¾èŠ±   

import tensorflow as tf
from tensorflow.keras.layers import Dense
from tensorflow.keras import Model
from sklearn import datasets
import numpy as np

x_train = datasets.load_iris().data
y_train = datasets.load_iris().target

np.random.seed(116)
np.random.shuffle(x_train)
np.random.seed(116)
np.random.shuffle(y_train)
tf.random.set_seed(116)

class IrisModel(Model):
    def __init__(self):
        super(IrisModel, self).__init__()
        self.d1 = Dense(3, activation=&apos;softmax&apos;, kernel_regularizer=tf.keras.regularizers.l2())

    def call(self, x):
        y = self.d1(x)
        return y

model = IrisModel()

model.compile(optimizer=tf.keras.optimizers.SGD(lr=0.1),
            loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False),
            metrics=[&apos;sparse_categorical_accuracy&apos;])

model.fit(x_train, y_train, batch_size=32, epochs=500, validation_split=0.2, validation_freq=20)
model.summary()</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/18/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/18/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C/" class="post-title-link" itemprop="url">Tensorflowå­¦ä¹ ç¬”è®°(äºŒ)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-02-18 19:23:12 / Modified: 20:48:59" itemprop="dateCreated datePublished" datetime="2021-02-18T19:23:12+08:00">2021-02-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä½¿ç”¨å…«è‚¡æ­å»ºç¥ç»ç½‘ç»œ"><a href="#ä½¿ç”¨å…«è‚¡æ­å»ºç¥ç»ç½‘ç»œ" class="headerlink" title="ä½¿ç”¨å…«è‚¡æ­å»ºç¥ç»ç½‘ç»œ"></a>ä½¿ç”¨å…«è‚¡æ­å»ºç¥ç»ç½‘ç»œ</h1><p><strong>ç”¨Tensorflow APIï¼štf.kerasæ­å»ºç½‘ç»œå…«è‚¡</strong>   </p>
<p><strong>ğŸ±å…­æ­¥æ³•</strong></p>
<ul>
<li>importç›¸å…³æ¨¡å—   </li>
<li>ç¡®å®šè®­ç»ƒé›†å’Œæµ‹è¯•é›†<br>  æŒ‡å®šè®­ç»ƒé›†çš„è¾“å…¥ç‰¹å¾å’Œæ ‡ç­¾ï¼›<br>  æŒ‡å®šæµ‹è¯•é›†çš„è¾“å…¥ç‰¹å¾å’Œæ ‡ç­¾ã€‚   </li>
<li>åœ¨<code>Sequential()</code>ä¸­æ­å»ºç½‘ç»œç»“æ„ï¼Œé€å±‚æè¿°æ¯å±‚ç½‘ç»œ<br>  ç›¸å½“äºèµ°ä¸€éå‰å‘ä¼ æ’­   </li>
<li>åœ¨<code>compile()</code>ä¸­é…ç½®è®­ç»ƒæ–¹æ³•<br>  å‘ŠçŸ¥è®­ç»ƒæ—¶é€‰æ‹©å“ªç§ä¼˜åŒ–å™¨ï¼›<br>  é€‰æ‹©å“ªç§æŸå¤±å‡½æ•°ï¼›<br>  é€‰æ‹©å“ªç§è¯„æµ‹æŒ‡æ ‡ï¼›   </li>
<li>åœ¨<code>fit()</code>ä¸­æ‰§è¡Œè®­ç»ƒè¿‡ç¨‹<br>  å‘ŠçŸ¥è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„è¾“å…¥ç‰¹å¾å’Œæ ‡ç­¾ï¼›<br>  æ¯ä¸ªbatchæ˜¯å¤šå°‘ï¼›<br>  è¿­ä»£å¤šå°‘æ¬¡è®­ç»ƒé›†ï¼›  </li>
<li>ç”¨<code>summary()</code>æ‰“å°å‡ºç½‘ç»œçš„ç»“æ„å’Œå‚æ•°ç»Ÿè®¡  </li>
</ul>
<h2 id="Sequential"><a href="#Sequential" class="headerlink" title="Sequential()"></a>Sequential()</h2><pre><code># æè¿°ä»è¾“å…¥å±‚åˆ°è¾“å‡ºå±‚ï¼Œæ¯ä¸€å±‚çš„ç½‘ç»œç»“æ„
âœ¨model = tf.keras.models.Sequential([ç½‘ç»œç»“æ„])     

# æ¯ä¸€å±‚çš„ç½‘ç»œç»“æ„ï¼Œå¯ä»¥æ˜¯ğŸ‘‡  

#æ‹‰ç›´å±‚  
#è¯¥å±‚ä¸å«è®¡ç®—ï¼Œåªæ˜¯å½¢çŠ¶è½¬æ¢
#æŠŠè¾“å…¥ç‰¹å¾æ‹‰ç›´å˜æˆä¸€ç»´æ•°ç»„
tf.keras.layers.Flatten()


#å…¨è¿æ¥å±‚  
tf.keras.layers.Dense(ç¥ç»å…ƒä¸ªæ•°,activation=&apos;æ¿€æ´»å‡½æ•°&apos;,kernel_regularizer=é‚£ç§æ­£åˆ™åŒ–)   
#activation(ä»¥å­—ç¬¦ä¸²å½¢å¼ç»™å‡º)å¯é€‰: reluã€softmaxã€sigmoidã€tanh   
#kernel_regularizer å¯é€‰: tf.keras.regularizers.l1()ã€tf.keras.regularizers.l2()   

#å·ç§¯å±‚  
tf.keras.layers.Conv2D(filters=å·ç§¯æ ¸ä¸ªæ•°,kernel_size=å·ç§¯æ ¸å°ºå¯¸,strides=å·ç§¯æ­¥é•¿,padding=&quot;valid&quot;or&quot;same&quot;)    


#LSTMå±‚(å¾ªç¯ç¥ç»ç½‘ç»œå±‚)  
tf.keras.layers.LSTM()</code></pre><h2 id="compile"><a href="#compile" class="headerlink" title="compile()"></a>compile()</h2><pre><code>âœ¨model.complie(optimizer=ä¼˜åŒ–å™¨,loss=æŸå¤±å‡½æ•°,metrics=[&quot;å‡†ç¡®ç‡&quot;])



#ä¼˜åŒ–å™¨optimizerå¯ä»¥æ˜¯å­—ç¬¦ä¸²å½¢å¼ç»™å‡ºçš„ğŸ‘‡   
&gt;&gt;&apos;sgd&apos; or tf.keras.optimizers.SGD(lr=å­¦ä¹ ç‡,momentum=åŠ¨é‡å‚æ•°) 

&gt;&gt;&apos;adagrad&apos; pr tf.keras.optimizers.Adagrad(lr=*)

&gt;&gt;&apos;adadelta&apos; or tf.keras.optimizers.Adadelta(lr=*)   



#æŸå¤±å‡½æ•°lossğŸ‘‡   
&gt;&gt;&apos;mse&apos; or tf.keras.losses.MeanSquaredError()  

&gt;&gt;&apos;sparse_categorical_crossentropy&apos; or tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False)  
#ğŸ‘†è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯åœ¨è¯¢é—®æ˜¯å¦åŸå§‹è¾“å‡ºï¼›
#ç¥ç»ç½‘ç»œé¢„æµ‹ç»“æœè¾“å‡ºå‰ç»è¿‡æ¦‚ç‡åˆ†å¸ƒï¼Œå°±ä¸æ˜¯åŸå§‹è¾“å‡ºï¼Œæ­¤æ—¶å°±æ˜¯False



#ç½‘ç»œè¯„æµ‹æŒ‡æ ‡MetricsğŸ‘‡:  
&gt;&gt;&apos;accuracy&apos;:y_å’Œyéƒ½æ˜¯æ•°å€¼ï¼Œå¦‚y_=[1],y=[1]  

&gt;&gt;&apos;categorical_accuracy&apos;:y_å’Œyéƒ½æ˜¯ç‹¬çƒ­ç (æ¦‚ç‡åˆ†å¸ƒ),å¦‚y_=[0,1,0],y=[0.256,0.695,0.048] 

&gt;&gt;&apos;sparse_categorical_accuracy&apos;:y_æ˜¯æ•°å€¼ï¼Œyæ˜¯ç‹¬çƒ­ç (æ¦‚ç‡åˆ†å¸ƒ),å¦‚y_=[1],y=[0.256,0.695.0.048]   </code></pre><h2 id="fit"><a href="#fit" class="headerlink" title="fit()"></a>fit()</h2><pre><code>âœ¨model.fit(è®­ç»ƒé›†çš„è¾“å…¥ç‰¹å¾,è®­ç»ƒé›†çš„æ ‡ç­¾,batch_size= , epochs= ,validation_data=(æµ‹è¯•é›†çš„è¾“å…¥ç‰¹å¾,æµ‹è¯•é›†çš„æ ‡ç­¾),validation_split=ä»è®­ç»ƒé›†åˆ’åˆ†å¤šå°‘æ¯”ä¾‹ç»™æµ‹è¯•é›†,validation_freq=å¤šå°‘æ¬¡epochæµ‹è¯•ä¸€æ¬¡)   </code></pre><ul>
<li>validation_dataä¸validation_splitä¸¤è€…é€‰å…¶ä¸€  </li>
</ul>
<h2 id="model-summay"><a href="#model-summay" class="headerlink" title="model.summay()"></a>model.summay()</h2><p>æ‰“å°å‡ºç½‘ç»œçš„ç»“æ„å’Œå‚æ•°ç»Ÿè®¡<br><img src="https://i.loli.net/2021/02/18/1nCZIvTzxstSBQM.png" alt="image.png">   </p>
<h2 id="é¸¢å°¾èŠ±ç¤ºä¾‹"><a href="#é¸¢å°¾èŠ±ç¤ºä¾‹" class="headerlink" title="é¸¢å°¾èŠ±ç¤ºä¾‹"></a>é¸¢å°¾èŠ±ç¤ºä¾‹</h2><pre><code>import tensorflow as tf
from sklearn import datasets
import numpy as np

x_train = datasets.load_iris().data
y_train = datasets.load_iris().target

np.random.seed(116)
np.random.shuffle(x_train)
np.random.seed(116)
np.random.shuffle(y_train)
tf.random.set_seed(116)

model = tf.keras.models.Sequential([
    tf.keras.layers.Dense(3, activation=&apos;softmax&apos;, kernel_regularizer=tf.keras.regularizers.l2())
])

model.compile(optimizer=tf.keras.optimizers.SGD(lr=0.1),
            loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False),
            metrics=[&apos;sparse_categorical_accuracy&apos;])

model.fit(x_train, y_train, batch_size=32, epochs=500, validation_split=0.2, validation_freq=20)

model.summary()</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/27/%E9%B8%A2%E9%B8%9F%E9%9B%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/27/%E9%B8%A2%E9%B8%9F%E9%9B%86/" class="post-title-link" itemprop="url">é¸¢é¸Ÿé›†</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-27 20:52:42" itemprop="dateCreated datePublished" datetime="2021-01-27T20:52:42+08:00">2021-01-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-30 21:26:29" itemprop="dateModified" datetime="2021-01-30T21:26:29+08:00">2021-01-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ğŸå®ç°é¸¢å°¾èŠ±åˆ†ç±»æ•´ä½“æ€è·¯"><a href="#ğŸå®ç°é¸¢å°¾èŠ±åˆ†ç±»æ•´ä½“æ€è·¯" class="headerlink" title="ğŸå®ç°é¸¢å°¾èŠ±åˆ†ç±»æ•´ä½“æ€è·¯"></a>ğŸå®ç°é¸¢å°¾èŠ±åˆ†ç±»æ•´ä½“æ€è·¯</h1><h2 id="ğŸ‹å‡†å¤‡æ•°æ®"><a href="#ğŸ‹å‡†å¤‡æ•°æ®" class="headerlink" title="ğŸ‹å‡†å¤‡æ•°æ®"></a>ğŸ‹å‡†å¤‡æ•°æ®</h2><ul>
<li>æ•°æ®é›†è¯»å…¥</li>
<li>æ•°æ®é›†ä¹±åº</li>
<li>ç”Ÿæˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>é…æˆï¼ˆè¾“å…¥ç‰¹å¾ã€æ ‡ç­¾ï¼‰å¯¹ï¼Œæ¯æ¬¡è¯»å…¥batch    </li>
</ul>
<h2 id="ğŸ‹æ­å»ºç½‘ç»œ"><a href="#ğŸ‹æ­å»ºç½‘ç»œ" class="headerlink" title="ğŸ‹æ­å»ºç½‘ç»œ"></a>ğŸ‹æ­å»ºç½‘ç»œ</h2><ul>
<li>å®šä¹‰ç¥ç»ç½‘ç»œä¸­æ‰€æœ‰å¯è®­ç»ƒå‚æ•°    </li>
</ul>
<h2 id="ğŸ‹å‚æ•°ä¼˜åŒ–"><a href="#ğŸ‹å‚æ•°ä¼˜åŒ–" class="headerlink" title="ğŸ‹å‚æ•°ä¼˜åŒ–"></a>ğŸ‹å‚æ•°ä¼˜åŒ–</h2><ul>
<li>åµŒå¥—å¾ªç¯è¿­ä»£ï¼Œwithç»“æ„æ›´æ–°å‚æ•°ï¼Œæ˜¾ç¤ºå½“å‰loss   </li>
</ul>
<h2 id="ğŸ‹æµ‹è¯•æ•ˆæœ"><a href="#ğŸ‹æµ‹è¯•æ•ˆæœ" class="headerlink" title="ğŸ‹æµ‹è¯•æ•ˆæœ"></a>ğŸ‹æµ‹è¯•æ•ˆæœ</h2><ul>
<li>è®¡ç®—å½“å‰å‚æ•°å‰åä¼ æ’­åçš„å‡†ç¡®ç‡ï¼Œæ˜¾ç¤ºå½“å‰acc  </li>
</ul>
<h2 id="ğŸ‹acc-losså¯è§†åŒ–"><a href="#ğŸ‹acc-losså¯è§†åŒ–" class="headerlink" title="ğŸ‹acc/losså¯è§†åŒ–"></a>ğŸ‹acc/losså¯è§†åŒ–</h2><h1 id="ğŸå‡†å¤‡"><a href="#ğŸå‡†å¤‡" class="headerlink" title="ğŸå‡†å¤‡"></a>ğŸå‡†å¤‡</h1><h2 id="ğŸ‹æ•°æ®é›†è¯»å…¥"><a href="#ğŸ‹æ•°æ®é›†è¯»å…¥" class="headerlink" title="ğŸ‹æ•°æ®é›†è¯»å…¥"></a>ğŸ‹æ•°æ®é›†è¯»å…¥</h2><p>ä»<code>sklearn.datasets</code>ä¸­å¯ä»¥å¾—åˆ°é¸¢é¸Ÿçš„æ•°æ®åŒ…<br>ä¹Ÿå°±æ˜¯ï¼Œé¦–å…ˆè¦æœ‰<code>sklearn</code>åŒ…,é€šè¿‡<code>pip instal sklearn</code>è·å¾—</p>
<pre><code>from sklearn.datasets import load_iris
from pandas import DataFrame  #å¤„ç†æ•°æ®ï¼Œå½¢æˆè¡¨æ ¼ï¼Œæ›´ç›´è§‚
import pandas as pd

x_data = load_iris().data
y_data = load_iris().target
#è·å¾—ç‰¹å¾å’Œå¯¹åº”çš„æ ‡ç­¾

x_data = DataFrame(x_data, columns=[&apos;èŠ±è¼é•¿åº¦&apos;, &apos;èŠ±è¼å®½åº¦&apos;, &apos;èŠ±ç“£é•¿åº¦&apos;, &apos;èŠ±ç“£å®½åº¦&apos;]) # ä¸ºè¡¨æ ¼å¢åŠ è¡Œç´¢å¼•ï¼ˆå·¦ä¾§ï¼‰å’Œåˆ—æ ‡ç­¾ï¼ˆä¸Šæ–¹ï¼‰
pd.set_option(&apos;display.unicode.east_asian_width&apos;, True)  # è®¾ç½®åˆ—åå¯¹é½

x_data[&apos;ç±»åˆ«&apos;] = y_data  # æ–°åŠ ä¸€åˆ—ï¼Œåˆ—æ ‡ç­¾ä¸ºâ€˜ç±»åˆ«â€™ï¼Œæ•°æ®ä¸ºy_data

print(x_data)</code></pre><p><img src="https://i.loli.net/2021/01/27/u1WnPpVtriXq9Gj.png" alt="ç»“æœ"></p>
<h2 id="ğŸ±å…³äºDataFrame"><a href="#ğŸ±å…³äºDataFrame" class="headerlink" title="ğŸ±å…³äºDataFrame"></a>ğŸ±å…³äºDataFrame</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><p>åˆ›å»ºä¸€ä¸ªDataFrameï¼Œç›¸å½“äºè¿™ä¸€å †æ•°æ®å°±æ˜¯ä¸€ä¸ªè¡¨æ ¼ï¼Œåˆ›å»ºæ—¶ï¼Œä¼šé»˜è®¤ç»™æ–°å¢ä¸€åˆ—åœ¨æœ€å·¦ä¾§ï¼Œæ˜¯ç´¢å¼•ï¼Œä»0å¼€å§‹ï¼›<br>å¦‚æœæ•°æ®æ˜¯å­—å…¸å‹ï¼Œåˆ™å·²ç»ç¡®å®šå¥½äº†åˆ—åã€‚<br>è‹¥æ˜¯æ•°ç»„ï¼Œåˆ™å¯é€šè¿‡<code>columns=[]</code>æ¥å‘½åå„åˆ—ã€‚<br><img src="https://i.loli.net/2021/01/27/LOs6ztbnkuYgAPx.png" alt="ä¾‹å­"></p>
<h3 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h3><p>åˆ›å»ºä¹‹åï¼Œå°±æ˜¯ä¸€ä¸ªå¯æ“ä½œçš„DataFrame<br>åˆ™è‹¥è¦æ–°å¢ä¸€åˆ—(æœ€åä¸€åˆ—)ï¼Œå¯ç›´æ¥<code>x[&#39;åˆ—å&#39;]=[å†…å®¹]</code>ã€‚<br>è‹¥è¦æŒ‡å®šæ’å…¥ä¸€åˆ—<code>x.insert(æ’å…¥åæ‰€å¤„çš„åˆ—æ•°ï¼Œåˆ—åï¼Œå†…å®¹)</code><br><img src="https://i.loli.net/2021/01/27/AJx4Sdse9h2w1VU.png" alt="image.png"></p>
<h3 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h3><p><strong>åˆ—</strong><br>å¯ç›´æ¥<code>x[åˆ—å]</code><br>å½“ç„¶å¯ç›´æ¥é€šè¿‡æ­¤èµ‹å€¼<code>x[åˆ—å]=[å†…å®¹]</code><br><strong>è¡Œ</strong><br>ç›´æ¥<code>x.loc[&#39;è¡Œå&#39;]</code>   </p>
<p><strong>è¡Œå’Œåˆ—</strong>  </p>
<pre><code>x.iloc[:,:]   
#å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å‡ è¡Œï¼Œç¬¬äºŒä¸ªæ˜¯å‡ åˆ—ã€‚
#æ³¨æ„ï¼Œéƒ½æ˜¯ä»0è®¡æ•°ä¸”å‰é—­åå¼€ </code></pre><p><img src="https://i.loli.net/2021/01/27/InPzHicRCvDZMyS.png" alt="image.png"></p>
<h3 id="ç´¢å¼•è¡¥å……"><a href="#ç´¢å¼•è¡¥å……" class="headerlink" title="ç´¢å¼•è¡¥å……"></a>ç´¢å¼•è¡¥å……</h3><p>ç´¢å¼•é™¤äº†æœ€å¼€å§‹åœ¨åˆ›å»ºæ—¶åˆ›å»ºä»¥å¤–ï¼Œåœ¨åˆ›å»ºåä¹Ÿå¯ä»¥æ›´æ”¹ã€‚   </p>
<ol>
<li><p>å°†è‡ªå·±çš„ä¸€åˆ—è®¾ç½®ä¸ºç´¢å¼•<code>x.set_index([åˆ—å],drop=True)</code><br>dropé»˜è®¤æ˜¯Trueï¼Œæ„æ€æ˜¯ï¼Œå°†è¯¥åˆ—ä½œä¸ºç´¢å¼•åï¼Œä¸ä¿å­˜è¯¥åˆ—æ•°æ®ï¼›æ”¹ä¸ºFalseï¼Œåˆ™ä¿å­˜è¯¥åˆ—æ•°æ®ã€‚<br><img src="https://i.loli.net/2021/01/27/jksDGTqL9dFHhWa.png" alt="image.png"></p>
</li>
<li><p>ç›´æ¥åˆ›å»º<code>x.index=[1,2,3,4,5]</code></p>
</li>
<li><p>è¿˜åŸæˆé»˜è®¤å€¼<code>x.reset_index(drop=False)</code><br>dropé»˜è®¤å€¼æ˜¯Falseï¼Œæ˜¯æŒ‡å°†åŸæ¥çš„ç´¢å¼•å€¼ä¿ç•™ä¸ºæ•°æ®ï¼›è‹¥ä¸ºTrueï¼Œåˆ™åŸç´¢å¼•å€¼åˆ é™¤ã€‚<br><img src="https://i.loli.net/2021/01/27/TbaqnWCr7gHPOLl.png" alt="image.png"></p>
</li>
</ol>
<h2 id="ğŸ‹æ•°æ®é›†ä¹±åº"><a href="#ğŸ‹æ•°æ®é›†ä¹±åº" class="headerlink" title="ğŸ‹æ•°æ®é›†ä¹±åº"></a>ğŸ‹æ•°æ®é›†ä¹±åº</h2><pre><code>np.random.seed(116) #æ˜¯ç”¨ç›¸åŒçš„seedï¼Œä½¿è¾“å…¥ç‰¹å¾/æ ‡ç­¾ä¸€ä¸€å¯¹åº”
np.random.shuffle(x_data)
np.random.seed(116)
np.random.shuffle(y_data)
tf.random.set_seed(116)</code></pre><h2 id="ğŸ‹åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†"><a href="#ğŸ‹åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†" class="headerlink" title="ğŸ‹åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†"></a>ğŸ‹åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†</h2><pre><code>x_train = x_data[:-30]
y_train = y_data[:-30]
x_test = x_data[-30:]
y_test = y_data[-30:]</code></pre><h2 id="ğŸ‹é…å¯¹"><a href="#ğŸ‹é…å¯¹" class="headerlink" title="ğŸ‹é…å¯¹"></a>ğŸ‹é…å¯¹</h2><pre><code>train_db = tf.data.Dataset.from_tensor_slices((x_trainm4,y_train)).batch(32)
test_db = tf.data.Dataset.from_tensor_slices((x_test,y_test)).batch(32)</code></pre><h1 id="ğŸæ­å»ºç½‘ç»œ"><a href="#ğŸæ­å»ºç½‘ç»œ" class="headerlink" title="ğŸæ­å»ºç½‘ç»œ"></a>ğŸæ­å»ºç½‘ç»œ</h1><pre><code>w1 = tf.Variable(tf.random.truncated_normal([4,3],stddev=0.1,seed=1))
b1 = tf.Variable(tf.random.truncated_normal([4,3],stddev=0.1,seed=1))

for epoch in range(epoch):
    for step,(x_train,y_train) in enumerate(train_db):
        with tf.GradientTape() as tape:
            y = tf.matmul(x_train, w1) + b1  # ç¥ç»ç½‘ç»œä¹˜åŠ è¿ç®—
            y = tf.nn.softmax(y)  # ä½¿è¾“å‡ºyç¬¦åˆæ¦‚ç‡åˆ†å¸ƒï¼ˆæ­¤æ“ä½œåä¸ç‹¬çƒ­ç åŒé‡çº§ï¼Œå¯ç›¸å‡æ±‚lossï¼‰
            y_ = tf.one_hot(y_train, depth=3)  # å°†æ ‡ç­¾å€¼è½¬æ¢ä¸ºç‹¬çƒ­ç æ ¼å¼ï¼Œæ–¹ä¾¿è®¡ç®—losså’Œaccuracy
            loss = tf.reduce_mean(tf.square(y_ - y))  # é‡‡ç”¨å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°mse = mean(sum(y-out)^2)
            loss_all += loss.numpy()  # å°†æ¯ä¸ªstepè®¡ç®—å‡ºçš„lossç´¯åŠ ï¼Œä¸ºåç»­æ±‚losså¹³å‡å€¼æä¾›æ•°æ®ï¼Œè¿™æ ·è®¡ç®—çš„lossæ›´å‡†ç¡®

            grads = tape.gradient(loss,[w1,b1])
            w.assign_sub(lr*grads[0])
            b1.assign_sub(lr*grads[1])
        print(&quot;Epoch{},loss:{}&quot;.format(epoch,loss_all/4))</code></pre><h1 id="ğŸè®¡ç®—å‡†ç¡®ç‡"><a href="#ğŸè®¡ç®—å‡†ç¡®ç‡" class="headerlink" title="ğŸè®¡ç®—å‡†ç¡®ç‡"></a>ğŸè®¡ç®—å‡†ç¡®ç‡</h1><pre><code>for x_test,y_test in test_db:
    y = tf.matul(h,w)+b  #é¢„æµ‹ç»“æœ
    y = tf.nn.softmax(y)  #yç¬¦åˆæ¦‚ç‡åˆ†å¸ƒ  
    pred = tf.argmax(y,axis=1) #è¿”å›yä¸­æœ€å¤§å€¼çš„ç´¢å¼•ï¼Œå³é¢„æµ‹çš„åˆ†ç±»  
    pred = tf.cast(pred,dtype = y_test.dtype) #è°ƒæ•´æ•°æ®ç±»å‹ä¸æ ‡ç­¾ä¸€è‡´  
    correct = tf.cast(tf.equal(pred,y_test),dtype = tf.int32)
    correct = tf.reduce_sum(correct) $å°†æ¯ä¸ªbatchçš„correctæ•°åŠ èµ·æ¥
    total_correct +=int(correct)  #å°†æ‰€æœ‰batchä¸­çš„correctæ•°åŠ èµ·æ¥  
    total_number += x_test.shape[0]
acc = total_correct/total_number
print(&quot;test_acc:&quot;,acc)

plt.title(&quot;Acc Curve&quot;)
plt.xlabel(&quot;Epoch&quot;)
plt.ylabel(&quot;Acc&quot;)
plt.plot(test_acc,label=&quot;$Accuracy$&quot;)  
plt.legend()
plt.show()</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/24/Tensorflow-Anaconda-Pycharm%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/24/Tensorflow-Anaconda-Pycharm%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">Tensorflow+Anaconda+Pycharmç¯å¢ƒå®‰è£…</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-24 15:39:12" itemprop="dateCreated datePublished" datetime="2021-01-24T15:39:12+08:00">2021-01-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/01/Matlab%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/01/Matlab%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">MatlabæœŸæœ«å¤ä¹ </a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-12-01 22:32:32" itemprop="dateCreated datePublished" datetime="2020-12-01T22:32:32+08:00">2020-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-24 15:36:45" itemprop="dateModified" datetime="2021-01-24T15:36:45+08:00">2021-01-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="DAY-1"><a href="#DAY-1" class="headerlink" title="DAY 1"></a>DAY 1</h1><ul>
<li><p><strong>å°æ‹¬å·()</strong><br>  åªè¡¨ç¤ºè¿ç®—çº§åˆ«â€”â€”åœ¨è¿ç®—ä¸­ä¼˜å…ˆè®¡ç®—ï¼›è‹¥æœ‰å¤šä¸ªå°æ‹¬å·åˆ™å…ˆç®—æœ€é‡Œé¢çš„ã€‚<br><strong>ä¸­æ‹¬å·[]</strong><br>  åªç”¨äºç”ŸæˆçŸ©é˜µå’Œå‘é‡<br><strong>èŠ±æ‹¬å·{}</strong><br>  ç”Ÿæˆå•å…ƒæ•°ç»„ï¼›åœ¨ç”Ÿæˆç»“æ„ä½“çš„ä¸€ç§æ–¹æ³•<code>struct(&#39;å˜é‡å&#39;,{&#39;å…ƒç´ å&lt;--å¯å¤šä¸ª&#39;},)</code>ä¹Ÿå°±æ˜¯å¦‚æœç”¨<code>struct()</code>é‡Œé¢çš„å…ƒç´ æ˜¯å¤šä¸ªæ—¶ï¼Œå°±ç”¨èŠ±æ‹¬å·åŒ…å«èµ·æ¥    </p>
</li>
<li><p><strong>æ•°ç»„/çŸ©é˜µçš„è¡Œåˆ—</strong><br>  <strong>é€—å·</strong><code>,</code>æ˜¯åŒä¸€è¡Œä¸åŒåˆ—å…ƒç´ åˆ†å¼€<br>  <strong>åˆ†å·</strong><code>;</code>æ˜¯ä¸åŒè¡Œ</p>
<pre><code>&gt;&gt;x=[1, 2 3;5 ,6,4]
1 2 3
5 6 4</code></pre></li>
</ul>
<h1 id="DAY-2"><a href="#DAY-2" class="headerlink" title="DAY 2"></a>DAY 2</h1><h2 id="åŸºæœ¬è¿ç®—å‡½æ•°"><a href="#åŸºæœ¬è¿ç®—å‡½æ•°" class="headerlink" title="åŸºæœ¬è¿ç®—å‡½æ•°"></a>åŸºæœ¬è¿ç®—å‡½æ•°</h2><ul>
<li><p>ä¸‰è§’å‡½æ•°ç›¸å…³  </p>
<ul>
<li><strong>ä¸‰è§’å‡½æ•°</strong>æœ‰ä¸¤ç§å½¢å¼<br>åˆ†åˆ«ä¸ºè®¡ç®—<strong>å¼§åº¦å½¢å¼</strong><code>cos/sin/tan/csc/sec/cot</code>;<br>è®¡ç®—<strong>è§’åº¦å½¢å¼</strong>åœ¨åé¢åŠ <strong>d</strong> <code>cosd/sind/tand/cscd/secd</code>  </li>
<li><strong>åä¸‰è§’å‡½æ•°</strong>åŒæ ·æœ‰ä¸¤ç§å½¢å¼ï¼Œå¦‚æœè¦ç®—<strong>è§’åº¦</strong>å°±åœ¨åé¢åŠ <strong>d</strong><br>åŸºæœ¬å½¢å¼ä¸º<code>acos/asin/atan/acsc/asec...</code><br>è§’åº¦<code>acosd...</code></li>
<li><strong>åŒæ›²å‡½æ•°</strong>ï¼ŒåŒæ›²æ­£/ä½™â€¦å¼¦,å®é™…ä¸Šå°±æ˜¯åœ¨ä¸‰è§’å‡½æ•°(å¼§åº¦åˆ¶)çš„åé¢åŠ <strong>h</strong>;è‹¥æ˜¯<strong>ååŒæ›²å‡½æ•°</strong>åˆ™å†åœ¨å‰é¢åŠ <strong>a</strong>å³å¯ï¼Œæ¯”å¦‚åŒæ›²ä½™å¼¦<code>cosh</code>;ååŒæ›²ä½™å¼¦<code>acosh</code></li>
</ul>
</li>
<li><p>åŸºæœ¬è¿ç®—  </p>
<ul>
<li><p><strong>ä¹˜æ–¹</strong><code>^</code>  </p>
<pre><code>&gt;&gt;2^2
4</code></pre></li>
<li><p><strong>ä»¥eä¸ºåº•çš„å¹‚</strong><code>exp()</code></p>
<pre><code>&gt;&gt;exp(1)
%ç­‰ä»·äºeçš„ä¸€æ¬¡æ–¹   </code></pre></li>
<li><p><strong>æ±‚å¯¹æ•°â€”â€”ä»¥eä¸ºåº•</strong><code>log()</code><br>è‹¥ä¸ºä»¥å…¶ä»–æ•°å­—ä¸ºåº•æ±‚å¯¹æ•°</p>
</li>
<li><p><strong>ç»å¯¹å€¼æ±‚è§£</strong><code>abs()</code></p>
</li>
<li><p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºå¤æ•°</strong><code>isreal()</code></p>
</li>
<li><p><strong>å–æ•´</strong><code>fix()</code></p>
</li>
<li><p><strong>åˆ¤æ–­è´¨æ•°</strong><code>isprime()</code><br>ğŸ“Œæ³¨æ„ï¼Œåªèƒ½åˆ¤æ–­éè´Ÿæ•´æ•°ï¼ä¸èƒ½åˆ¤æ–­æµ®ç‚¹æ•°  </p>
</li>
</ul>
</li>
</ul>
<h1 id="DAY-4"><a href="#DAY-4" class="headerlink" title="DAY 4"></a>DAY 4</h1><h2 id="å¤šé¡¹å¼"><a href="#å¤šé¡¹å¼" class="headerlink" title="å¤šé¡¹å¼"></a>å¤šé¡¹å¼</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/20/mnist-%E8%AF%86%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/20/mnist-%E8%AF%86%E5%88%AB/" class="post-title-link" itemprop="url">mnistæ‰‹å†™è¯†åˆ«</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-20 18:43:09" itemprop="dateCreated datePublished" datetime="2020-11-20T18:43:09+08:00">2020-11-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-15 20:32:55" itemprop="dateModified" datetime="2021-01-15T20:32:55+08:00">2021-01-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Prep"><a href="#Prep" class="headerlink" title="Prep"></a>Prep</h1><h2 id="Kerasæ•°æ®é›†â€”â€”â€”MNISTæ‰‹å†™å­—ç¬¦æ•°æ®é›†"><a href="#Kerasæ•°æ®é›†â€”â€”â€”MNISTæ‰‹å†™å­—ç¬¦æ•°æ®é›†" class="headerlink" title="Kerasæ•°æ®é›†â€”â€”â€”MNISTæ‰‹å†™å­—ç¬¦æ•°æ®é›†"></a>Kerasæ•°æ®é›†â€”â€”â€”MNISTæ‰‹å†™å­—ç¬¦æ•°æ®é›†</h2><pre><code>from keras.datasets import mnist
(x_train,y_train),(x_test,y_test) = mnist.load_data()</code></pre><p>è¿”å›çš„ä¸¤ä¸ªå…ƒç»„ï¼š  </p>
<ul>
<li><strong>x_train, x_test:</strong><br>uint8 æ•°ç»„è¡¨ç¤ºçš„ç°åº¦å›¾åƒï¼Œå°ºå¯¸ä¸º (num_samples, 28, 28)ã€‚</li>
<li><strong>y_train, y_test:</strong><br>uint8 æ•°ç»„è¡¨ç¤ºçš„æ•°å­—æ ‡ç­¾ï¼ˆèŒƒå›´åœ¨ 0-9 ä¹‹é—´çš„æ•´æ•°ï¼‰ï¼Œå°ºå¯¸ä¸º (num_samples,)ã€‚</li>
</ul>
<p>æŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„æ•°æ®é›†  </p>
<pre><code>(x_train,y_train),(x_test,y_test)=mnist.load_data()
for i in range(9):
plt.subplot(3,3,i+1)
plt.imshow(x_train[i], cmap=&apos;gray&apos;, interpolation=&apos;none&apos;)
plt.title(&quot;Class {}&quot;.format(y_train[i]))

plt.show()</code></pre><p><img src="https://i.loli.net/2020/11/20/mSG7Fi9EABoN83z.png" alt="æ•°æ®é›†éƒ¨åˆ†æ˜¾ç¤º"><br><strong>æ³¨æ„ï¼š<code>plt.imshow()</code>åªæ˜¯å¤„ç†å›¾åƒï¼Œå¹¶ä¸ä¼šæ˜¾ç¤ºå›¾åƒã€‚éœ€è¦åŠ ä¸Š<code>plt.show()</code></strong>  </p>
<p><strong>ğŸ±è¡¥å……:<code>len(çŸ©é˜µ)</code>è¿”å›çš„æ˜¯çŸ©é˜µçš„è¡Œæ•°</strong></p>
<h2 id="æ ‡ç­¾å‡†å¤‡"><a href="#æ ‡ç­¾å‡†å¤‡" class="headerlink" title="æ ‡ç­¾å‡†å¤‡"></a>æ ‡ç­¾å‡†å¤‡</h2><h3 id="One-Hot-ç¼–ç "><a href="#One-Hot-ç¼–ç " class="headerlink" title="One-Hot ç¼–ç "></a>One-Hot ç¼–ç </h3><p>One-Hotç¼–ç ï¼Œåˆç§°ä¸ºä¸€ä½æœ‰æ•ˆç¼–ç ï¼Œä¸»è¦æ˜¯é‡‡ç”¨Nä½çŠ¶æ€å¯„å­˜å™¨æ¥å¯¹Nä¸ªçŠ¶æ€è¿›è¡Œç¼–ç ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½ç”±ä»–ç‹¬ç«‹çš„å¯„å­˜å™¨ä½ï¼Œå¹¶ä¸”åœ¨ä»»æ„æ—¶å€™åªæœ‰ä¸€ä½æœ‰æ•ˆã€‚</p>
<p>One-Hotç¼–ç æ˜¯åˆ†ç±»å˜é‡ä½œä¸ºäºŒè¿›åˆ¶å‘é‡çš„è¡¨ç¤ºã€‚è¿™é¦–å…ˆè¦æ±‚å°†åˆ†ç±»å€¼æ˜ å°„åˆ°æ•´æ•°å€¼ã€‚ç„¶åï¼Œæ¯ä¸ªæ•´æ•°å€¼è¢«è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶å‘é‡ï¼Œé™¤äº†æ•´æ•°çš„ç´¢å¼•ä¹‹å¤–ï¼Œå®ƒéƒ½æ˜¯é›¶å€¼ï¼Œå®ƒè¢«æ ‡è®°ä¸º1ã€‚<br>å®é™…ä¸Šå°±æ˜¯æ ¹æ®æ ·æœ¬æ‰€å…·æœ‰çš„ç‰¹å¾è¿›è¡Œ<code>0/1</code>èµ‹å€¼ã€‚<br>æ¯”å¦‚å¯¹<code>hello world</code>è¿›è¡Œone hotç¼–ç ã€‚è¯¥å¥ç”±å­—æ¯å’Œç©ºæ ¼ç»„æˆã€‚å­—æ¯çš„ç‰¹å¾æœ‰26ä¸ªç‰¹å¾ï¼ŒåŠ ä¸Šç©ºæ ¼åˆ™ä¸€å…±æœ‰27ä¸ªã€‚<br><img src="https://i.loli.net/2020/11/20/Gb6jxhzICdT4sQv.png" alt="ç¤ºä¾‹"><br>å†æ¯”å¦‚è‹¥å¯¹ <strong>[â€œä¸­å›½â€,â€ç¾å›½â€,â€æ—¥æœ¬â€,â€ç¾å›½â€]</strong> è¿›è¡Œç¼–ç ã€‚  </p>
<ul>
<li>ç¡®å®šè¦ç¼–ç çš„å¯¹è±¡â€“ <strong>[â€œä¸­å›½â€,â€ç¾å›½â€,â€æ—¥æœ¬â€,â€ç¾å›½â€]</strong>   </li>
<li>ç¡®å®šåˆ†ç±»å˜é‡â€“<strong>ä¸­å›½  ç¾å›½  æ—¥æœ¬</strong> å…±ä¸‰ç§ç±»åˆ«<br>  å³æ˜¯æœ‰ä¸‰ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰ä¸‰ä¸ªç‰¹å¾ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å‘é‡ã€‚  </li>
</ul>
<p>æˆ‘ä»¬é¦–å…ˆè¿›è¡Œç‰¹å¾çš„æ•´æ•°ç¼–ç ï¼š <strong>ä¸­å›½â€“0ï¼Œç¾å›½â€“1ï¼Œæ—¥æœ¬â€“2</strong> ï¼Œå¹¶å°†ç‰¹å¾æŒ‰ç…§ä»å°åˆ°å¤§æ’åˆ—<br><img src="https://img2018.cnblogs.com/blog/901213/201907/901213-20190730115423074-1198386169.png" alt="ç¤ºä¾‹">  </p>
<p>ğŸ±<strong>Keraså®ç°</strong>   </p>
<pre><code>from keras.utils import np_utils
&gt;&gt;y_train =np_utils.to_categorical(y_train,num_classes=10)  
#åç±»ï¼Œåº”è¯¥æ˜¯ç”¨åä¸ªç‰¹å¾è¿›è¡Œè¡¨ç¤ºï¼Œå‰ææ˜¯y_trainä¸­çš„æ•°å­—æœ€å¤§ä¸èƒ½è¶…è¿‡10ã€‚è¿™å®é™…ä¸Šå¾ˆåƒæ˜¯å¯¹ç‚¹æ ‡ç­¾ï¼Œå¦‚æœæ˜¯5ï¼Œå°±åœ¨5å¤„æ‰“å‹¾(å˜ä¸º1ï¼Œå…¶ä½™ä¸º0)ã€‚æ‰€ä»¥è¦ä¿è¯num_classesè¦å¤§äºmax(y)  </code></pre><h1 id="æ­å»ºç½‘ç»œ"><a href="#æ­å»ºç½‘ç»œ" class="headerlink" title="æ­å»ºç½‘ç»œ"></a>æ­å»ºç½‘ç»œ</h1><p><strong>åˆ›å»ºSequentialæ¨¡å‹</strong>   </p>
<ul>
<li><p>å°†å±‚çš„åˆ—è¡¨ä¼ é€’ç»™Sequentialçš„æ„é€ å‡½æ•°ã€‚   </p>
<pre><code>model = Sequential([
 Dense(units = 10,input_dim = 784,bias_initializer = &apos;one&apos;,activation=&apos;softmax&apos;)]) </code></pre></li>
<li><p>ä½¿ç”¨<code>model.add()</code>çš„æ–¹æ³•å°†å„å±‚æ·»åŠ åˆ°æ¨¡å‹ä¸­  </p>
</li>
</ul>
<pre><code>model = Sequential()
model.add(Dense(10, input_dim=784))
model.add(Activation(&apos;softmax&apos;))  </code></pre><p><strong>Dense</strong><br><img src="https://i.loli.net/2020/11/20/FaNRyqT3n1CApVs.png" alt=""></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/28/python%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/python%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E7%B1%BB/" class="post-title-link" itemprop="url">pythonå­¦ä¹ â€”â€”ç±»</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-28 22:39:14" itemprop="dateCreated datePublished" datetime="2020-10-28T22:39:14+08:00">2020-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-30 22:56:10" itemprop="dateModified" datetime="2020-10-30T22:56:10+08:00">2020-10-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å®šä¹‰ç±»"><a href="#å®šä¹‰ç±»" class="headerlink" title="å®šä¹‰ç±»"></a>å®šä¹‰ç±»</h1><pre><code>class Student(object):
    pass</code></pre><p>classåé¢ç´§è·Ÿç€çš„å°±æ˜¯ç±»åï¼Œå³<code>Student</code> ï¼Œåé¢ç´§æ¥ç€çš„<code>(object)</code>è¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ã€‚<br>    å¦‚æœæ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œå°±ç”¨<code>object</code>ç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»éƒ½ä¼šç»§æ‰¿çš„ç±»ã€‚  </p>
<h1 id="åˆ›å»ºå®ä¾‹"><a href="#åˆ›å»ºå®ä¾‹" class="headerlink" title="åˆ›å»ºå®ä¾‹"></a>åˆ›å»ºå®ä¾‹</h1><p>åˆ›å»ºå®ä¾‹ç›´æ¥<code>example = Student(parameter)</code><br>å¦‚æœåœ¨ç±»çš„å®šä¹‰ä¸­æ²¡æœ‰ç»‘å®šå±æ€§ã€‚ä¹Ÿå°±æ˜¯åœ¨æˆ‘ä»¬å®šä¹‰ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬è§„å®šï¼Œæ‰€æœ‰å®ä¾‹éƒ½å¿…é¡»å…·æœ‰ä¸€äº›å±æ€§ï¼Œå°±å¯ä»¥åœ¨å®šä¹‰ç±»æ—¶ç»‘å®šå±æ€§ã€‚<br>å¦‚æœä¸ç»‘å®šå±æ€§ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚é‚£ä¹ˆå°±ä¸ä¼ å…¥å‚æ•°<code>example = Student()</code><br>æ­¤æ—¶ï¼Œå¯ä»¥è‡ªç”±å®šä¹‰å±æ€§ <strong><em>(ç»‘å®šäº†å±æ€§ä¹Ÿæ˜¯å¯ä»¥è‡ªç”±å®šä¹‰ï¼Œåªæ˜¯åœ¨äºï¼Œå¦‚æœäº†ç»‘å®šäº†ï¼Œå°±ç›¸å½“äºè§„å®šäº†åœ¨æˆ‘å®šä¹‰è¿™ä¸ªå®ä¾‹æ—¶ï¼Œå°±å¿…é¡»è¦å…·æœ‰è¿™äº›å±æ€§)</em></strong>   </p>
<pre><code>&gt;&gt;&gt; amy = Student()
&gt;&gt;&gt; amy.name=&quot;Amy Smith&quot;
&gt;&gt;&gt; amy.name
&apos;Amy Smith&apos;</code></pre><p>å¦‚æœåœ¨ç±»ä¸­ç»‘å®šäº†å±æ€§   </p>
<pre><code>class Student():
    def __init__(self,name,score):
        self.name=name
        self.score=score</code></pre><p><strong>æ³¨é‡Šï¼š</strong> åœ¨ç±»ä¸­ç»‘å®šå±æ€§ï¼Œå°±æ˜¯é€šè¿‡å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³•<code>__init__</code>ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°  <strong><em>(åŒ…æ‹¬åé¢æ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•)</em></strong> éƒ½æ˜¯<code>self</code>ã€‚å› ä¸º<code>self</code>å°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚å…¶åçš„å‚æ•°å°±æ˜¯æˆ‘ä»¬ç»‘å®šçš„å±æ€§ã€‚   </p>
<p>æ­¤ååœ¨åˆ›å»ºå®ä¾‹æ—¶ï¼Œå°±è¦ä¼ å…¥ç›¸åº”çš„å‚æ•°ã€‚   </p>
<pre><code>&gt;&gt;&gt; amy = Student(&quot;Amy Smith&quot;,95)
&gt;&gt;&gt; amy.name
&quot;Amy Smith&quot;  </code></pre><p>å½“ç„¶å±æ€§ä¹Ÿä¸æ˜¯ä¸€å±‚ä¸å˜çš„ã€‚<br>æˆ‘ä»¬å¯ä»¥æ›´æ”¹å±æ€§å€¼ã€‚  </p>
<pre><code>&gt;&gt;&gt;amy.name=&quot;Tony&quot;  
&gt;&gt;&gt;amy.name
&quot;Tony&quot;</code></pre><p>ä¹Ÿå°±æ˜¯è¯´å¤–éƒ¨ä»£ç å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹å®ä¾‹çš„å±æ€§ã€‚  </p>
<p>ğŸ“Œå¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>ï¼Œæ­¤æ—¶å¦‚æœå®ä¾‹çš„å˜é‡åä»¥<code>___</code>å¼€å¤´ï¼Œå°±å˜æˆä¸€ä¸ªç§æœ‰å˜é‡ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®<br><img src="https://i.loli.net/2020/10/30/aeglV2YkQhDmu9B.png" alt="ç¤ºä¾‹">   </p>
<p><strong>æ³¨ï¼š</strong> å®é™…ä¸Šå¹¶ä¸æ˜¯å¤–éƒ¨ä¸èƒ½è®¿é—®äº†ï¼Œè€Œæ˜¯Pythonè§£é‡Šå™¨å°†<code>__name</code>å˜æˆäº†<code>_Student__name</code>  </p>
<p><img src="https://i.loli.net/2020/10/30/ZU9kohD1uGCKSQz.png" alt="ç¤ºä¾‹"><br>å¯ä»¥çœ‹åˆ°é€šè¿‡æˆ‘ä»¬å®šä¹‰çš„æ–¹æ³•å¯ä»¥è¿›è¡Œè®¿é—®ã€ä¿®æ”¹å±æ€§ã€‚ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä»ç„¶æ˜¯å¯ä»¥è®¿é—®ç§æœ‰å˜é‡çš„ï¼Œåªæ˜¯å…¶åå­—å˜äº†ã€‚<br>åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…¶ä¸­çš„<code>jack.__name=&#39;mike&#39;</code> å®é™…ä¸Šå¹¶æ²¡æœ‰å®ç°è®¿é—®<code>__name</code>å˜é‡ï¼Œè€Œæ˜¯è‡ªå·±åˆåˆ›äº†ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§çš„åå­—æ˜¯<code>__name</code>ï¼Œå…¶å€¼æ˜¯<code>&#39;mike&#39;</code>   </p>
<p><strong>è¡¥å……ï¼š</strong> åœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼<code>__xx__</code>çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œæ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">37</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.1.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
